<?xml version="1.0" encoding="UTF-8"?>
<templates>
    <t t-name="l10n_lt_payroll.MonthlyZiniarastis">
        <t t-set="num_from" t-as="widget.num_from"/>
        <t t-set="num_to" t-as="widget.num_to"/>
        <div class="o_group">
            <table class="o_group o_inner_group oe_fd_button_group o_group_col_4">
                <tbody>
                    <tr>
                        <td colspan="1" style="width: 10%;">
                            <button type="button" code="FD1" class="btn btn-sm oe_fd_button oe_inline oe_left btn-primary"
                                    data-original-title="" title="">
                                FD1
                            </button>
                        </td>
                        <td colspan="1" style="width: 10%;">
                            <button type="button" code="FD2" class="btn btn-sm oe_fd_button oe_inline oe_left btn-primary"
                                    data-original-title="" title="">
                                FD2
                            </button>
                        </td>
                        <td colspan="1" style="width: 10%;">
                            <button type="button" code="FD3" class="btn btn-sm oe_fd_button oe_inline oe_left btn-primary"
                                    data-original-title="" title="">
                                FD3
                            </button>
                        </td>
                        <td colspan="1" style="width: 10%;">
                            <button type="button" code="FD4" class="btn btn-sm oe_fd_button oe_inline oe_left btn-primary"
                                    data-original-title="" title="">
                                FD4
                            </button>
                        </td>
                        <td colspan="1" style="width: 10%;">
                            <button type="button" code="FD5" class="btn btn-sm oe_fd_button oe_inline oe_left btn-primary"
                                    data-original-title="" title="">
                                FD5
                            </button>
                        </td>
                        <td colspan="1" style="width: 10%;">
                            <button type="button" code="FD6" class="btn btn-sm oe_fd_button oe_inline oe_left btn-primary"
                                    data-original-title="" title="">
                                FD6
                            </button>
                        </td>
                        <td colspan="1" style="width: 10%;">
                            <button type="button" code="FD7" class="btn btn-sm oe_fd_button oe_inline oe_left btn-primary"
                                    data-original-title="" title="">
                                FD7
                            </button>
                        </td>
                        <td colspan="1" style="width: 10%;">
                            <button type="button" code="FD8" class="btn btn-sm oe_fd_button oe_inline oe_left btn-primary"
                                    data-original-title="" title="">
                                FD8
                            </button>
                        </td>
                        <td colspan="1" style="width: 10%;">
                            <button type="button" code="FD9" class="btn btn-sm oe_fd_button oe_inline oe_left btn-primary"
                                    data-original-title="" title="">
                                FD9
                            </button>
                        </td>
                        <td colspan="1" style="width: 10%;">
                            <button type="button" code="FD10" class="btn btn-sm oe_fd_button oe_inline oe_left btn-primary"
                                    data-original-title="" title="">
                                FD10
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="o_group o_inner_group oe_vd_button_group o_group_col_4">
                <tbody>
                    <tr>
                        <td colspan="1" style="width: 20%;">
                            <button type="button" code="VD1" class="btn btn-sm oe_vd_button oe_inline oe_left"
                                    data-original-title="" title="">
                                VD1
                            </button>
                        </td>
                        <td colspan="1" style="width: 20%;">
                            <button type="button" code="VD2" class="btn btn-sm oe_vd_button oe_inline oe_left"
                                    data-original-title="" title="">
                                VD2
                            </button>
                        </td>
                        <td colspan="1" style="width: 20%;">
                            <button type="button" code="VD3" class="btn btn-sm oe_vd_button oe_inline oe_left"
                                    data-original-title="" title="">
                                VD3
                            </button>
                        </td>
                        <td colspan="1" style="width: 20%;">
                            <button type="button" code="VD4" class="btn btn-sm oe_vd_button oe_inline oe_left"
                                    data-original-title="" title="">
                                VD4
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="o_group o_inner_group oe_absences_button_group o_group_col_4">
                <tbody>
                    <tr>
                        <td colspan="1" style="width: 11.1111%;">
                            <button type="button" code="A"
                                    class="btn btn-sm oe_background_green oe_absence_button oe_inline oe_left"
                                    data-original-title="" title="">
                                A
                            </button>
                        </td>
                        <td colspan="1" style="width: 11.1111%;">
                            <button type="button" code="K"
                                    class="btn btn-sm oe_background_yellow oe_absence_button oe_inline oe_left"
                                    data-original-title="" title="">
                                K
                            </button>
                        </td>
                        <td colspan="1" style="width: 11.1111%;">
                            <button type="button" code="L"
                                    class="btn btn-sm oe_background_red oe_absence_button oe_inline oe_left"
                                    data-original-title="" title="">
                                L
                            </button>
                        </td>
                        <td colspan="1" style="width: 11.1111%;">
                            <button type="button" code="M"
                                    class="btn btn-sm oe_background_orange oe_absence_button oe_inline oe_left"
                                    data-original-title="" title="">
                                M
                            </button>
                        </td>
                        <td colspan="1" style="width: 11.1111%;">
                            <button type="button" code="NA"
                                    class="btn btn-sm oe_background_teal oe_absence_button oe_inline oe_left"
                                    data-original-title="" title="">
                                NA
                            </button>
                        </td>
                        <td colspan="1" style="width: 11.1111%;">
                            <button type="button" code="ND"
                                    class="btn btn-sm oe_background_blue oe_absence_button oe_inline oe_left"
                                    data-original-title="" title="">
                                ND
                            </button>
                        </td>
                        <td colspan="1" style="width: 11.1111%;">
                            <button type="button" code="NS"
                                    class="btn btn-sm oe_background_aqua oe_absence_button oe_inline oe_left"
                                    data-original-title="" title="">
                                NS
                            </button>
                        </td>
                        <td colspan="1" style="width: 11.1111%;">
                            <button type="button" code="P"
                                    class="btn btn-sm oe_background_silver oe_absence_button oe_inline oe_left"
                                    data-original-title="" title="">
                                P
                            </button>
                        </td>
                        <!--<td colspan="1" style="width: 11.1111%;">-->
                            <!--<button type="button" code="S"-->
                                    <!--class="btn btn-sm oe_background_purple oe_absence_button oe_inline oe_left"-->
                                    <!--data-original-title="" title="">-->
                                <!--S-->
                            <!--</button>-->
                        <!--</td>-->
                    </tr>
                </tbody>
            </table>
            <table class="o_group o_inner_group oe_absences_button_group o_group_col_4">
                <tbody>
                    <tr>
                        <td colspan="1" style="width: 11.1111%;">
                            <button type="button" code="CHECK"
                                    class="btn btn-sm oe_background_green oe_check_button oe_inline oe_left"
                                    data-original-title="" title="">
                                PATIKRINTI
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="o_group o_inner_group oe_absences_button_group o_group_col_4">
                <tbody>
                    <tr>
                        <td colspan="1" style="width: 11.1111%;">
                            <button type="button" code="DEL"
                                    class="oe_button_danger btn btn-sm oe_background_purple oe_absence_button oe_inline oe_left"
                                    data-original-title="" title="">
                                IŠTRINTI
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="both_tables">
            <tr>
                <div class="first_table">
                    <table class="table table-condensed table-bordered table-responsive" style="width: 20%;white-space: nowrap;">
                        <tr class="o_row_header_font">
                            <th colspan="3" class="top_header"><br/></th>
                            <!--<br/></th>-->
                        </tr>
                        <tr>
                            <th style="width:50px" column="a1"><span>Eilės nr.</span><br/><span style="display:inline-block"/></th>
                            <th style="width:50px" column="a2"><span>Tabelio nr.</span><br/><span/></th>
                            <th style="width:50px" column="a2"><span>Darbuotojas</span><br/><span/></th>
                            <th style="width:50%" column="a3"><span>Kontrakto nr.</span><br/><span/></th>
                        </tr>
                        <tr>
                            <t t-set="i" t-value="1"/>
                            <t t-foreach="widget.ziniarastis_period_lines" t-as="line">
                                <!--<tr t-if="i&gt;=num_from &amp;&amp; i &lt;= num_to">-->
                                <tr class="first_table_row" t-att-row="i">
                                    <td class="mark_color" t-att-row="i" column="a1" t-att-style="line.show_warning ? 'background-color:red' : ''"><span t-esc="i"/>
                                        <t t-if="line.state == 'draft'">
                                            <a style="padding-left:10px"><i class="oe_hr_refresh fa fa-refresh" t-att-data-contract_id="JSON.stringify(line.contract_id)" t-att-data-date_from="JSON.stringify(line.date_from)" t-att-data-date_to="JSON.stringify(line.date_to)"/></a>
                                            <a style="padding-left:10px"><i class="oe_hr_single_done fa fa-check" t-att-data-contract_id="JSON.stringify(line.contract_id)" t-att-data-date_from="JSON.stringify(line.date_from)" t-att-data-date_to="JSON.stringify(line.date_to)"/></a>
                                        </t>
                                        <t t-if="line.state == 'done'">
                                            <a style="padding-left:10px"><i class="oe_hr_cancel fa fa-close" t-att-data-contract_id="JSON.stringify(line.contract_id)" t-att-data-date_from="JSON.stringify(line.date_from)" t-att-data-date_to="JSON.stringify(line.date_to)"/></a>
                                        </t>
                                    </td>
                                    <td class="mark_color" t-att-row="i" column="a2"><t t-esc="line.tabelio_numeris"/>
                                    </td>
                                    <td t-att-class="'mark_color ' + (line.hours_worked != line.num_regular_work_hours_without_holidays ? 'oe_worked_less_than_agreed' : 'oe_worked_normal')" t-att-row="i" column="a2">
                                        <t t-if="line.hours_worked != line.num_regular_work_hours_without_holidays">
                                            <span class="worked_less_than_agreed_tooltip">Dirba: <t t-esc="line.hours_worked"/>, Turėtų: <t t-esc="line.num_regular_work_hours_without_holidays"/></span>
                                        </t>
                                        <a class="oe_hr_employee" href="javascript:void(0)" t-att-data-id="JSON.stringify(line.employee_id)"><t t-esc="line.employee_name"/></a>
                                    </td>
                                    <td class="mark_color" t-att-row="i" column="a3">
                                        <a class="oe_hr_contract" href="javascript:void(0)" t-att-data-id="JSON.stringify(line.contract_id)"><t t-esc="line.contract_name"/></a>
                                    </td>
                                    <t t-set="i" t-value="i+1"/>
                                </tr>
                            </t>
                        </tr>
                    </table>
                </div>
                <div style="overflow-x: auto" class="second_table">
                    <table>
                        <tr class="last-line">
                            <td class="o_dienos">
                                <div>
                                    <table class="table table-condensed table-bordered table-responsive" style="white-space: nowrap;">
                                        <tr class="o_row_header_font">
                                            <th class="top_header" style="width:100px; text-align:left" t-att-colspan="widget.dates.length+1">
                                            <span class="o_table_tab" data-class="o_dienos">Dienos</span>
                                            <span class="o_table_tab" data-class="o_faktiskai">Faktiškai dirbta per mėnesį</span>
                                            <br/><span/>
                                            </th>
                                        </tr>
                                        <tr>
                                            <t t-set="j" t-value="1"/>
                                            <t t-foreach="widget.dates" t-as="date">
                                                <!--<th t-att-class="'oe_timesheet_weekly_date_head' + (moment().format('DD-MM-YYYY') === moment(date).format('DD-MM-YYYY') ? ' oe_timesheet_weekly_today' : '')"/><br/>-->
                                                <th t-att-class="'oe_timesheet_weekly_date_head' + (moment(date).isoWeekday() == 7 or moment(date).isoWeekday() == 6 or widget.holiday[moment(date).format('YYYY-MM-DD')] ? ' oe_timesheet_weekly_today' : '') + (widget.holiday[moment(date).format('YYYY-MM-DD')] ? ' oe_holiday_red' : '')" t-att-column="'b'+j">
                                                    <t t-esc="moment(date).format('ddd')"/><br/>
                                                    <t t-esc="moment(date).format('MMM DD')"/>
                                                </th>
                                                <t t-set="j" t-value="j+1"/>
                                            </t>
                                        </tr>
                                        <tr>
                                            <t t-set="i" t-value="1"/>
                                            <t t-foreach="widget.ziniarastis_period_lines" t-as="line">
                                                <tr class="second_table_row" t-att-row="i">
                                                    <t t-set="j" t-value="1"/>
                                                    <t t-foreach="line.days" t-as="day">
                                                        <td t-att-class="'no_wrap oe_ziniarastis_day mark_color ' + (day.contract_id ? 'oe_has_contract' : 'oe_has_no_contract') + ' ' + (day.holidays_match ? 'oe_holiday_match' : 'oe_holiday_mismatch') + (day.shorter_before_holidays_special ? ' oe_before_holiday_red' : '')"
                                                            t-att-data-id="JSON.stringify(day.id)"
                                                            t-att-has_contract="day.contract_id ? true : false"
                                                            t-att-row="i"
                                                            t-att-column="'b'+j"
                                                            style="white-space: normal"
                                                        >
                                                            <t t-set="j" t-value="j+1"/>
                                                            <span class="oe_timesheet_weekly_box"/>
                                                            <t t-esc="day.name"/>
                                                        </td>
                                                    </t>
                                                </tr>
                                                <t t-set="i" t-value="i+1"/>
                                            </t>
                                        </tr>
                                    </table>
                                </div>
                            </td>
                            <td class="o_hidden o_faktiskai">
                                <div>
                                    <table  class="table table-condensed table-bordered table-responsive">
                                        <tr class="o_row_header_font">
                                            <th class="top_header" style="width:100px; text-align:left" colspan="11">
                                            <span class="o_table_tab" data-class="o_dienos">Dienos</span>
                                            <span class="o_table_tab" data-class="o_faktiskai">Faktiškai dirbta per mėnesį</span>
                                            <br/><span/>
                                            </th>
                                        </tr>
                                        <tr align="center">
                                            <div>
                                                <th column="c1">Dirbta dienų</th>
                                                <th column="c2">Dirbta valandų</th>
                                                <th column="c3">Dirbta naktį</th>
                                                <th column="c4">Dirbta viršvalandžių</th>
                                                <th column="c5">
                                                    <span>Dirbta nukrypus nuo</span><br/>
                                                    <span>normalių darbo sąlygų</span><br/>
                                                </th>
                                                <th column="c6">Budėjimas namuose</th>
                                                <th column="c7">Budėjimas darbe</th>
                                                <th column="c8">Poilsio dienomis</th>
                                                <th column="c9">Švenčių dienomis</th>
                                                <!--<th column="c10">Sutartinis žymėjimas</th>-->
                                                <th column="c11">Nedirbtų dienų skaičius</th>
                                                <th column="c12">Nedirbtų valandų skaičius</th>
                                            </div>
                                        </tr>
                                        <tr>
                                            <t t-set="i" t-value="1"/>
                                            <t t-set="sum_1" t-value="0"/>
                                            <t t-set="sum_2" t-value="0"/>
                                            <t t-set="sum_3" t-value="0"/>
                                            <t t-set="sum_4" t-value="0"/>
                                            <t t-set="sum_5" t-value="0"/>
                                            <t t-set="sum_6" t-value="0"/>
                                            <t t-set="sum_7" t-value="0"/>
                                            <t t-set="sum_8" t-value="0"/>
                                            <t t-set="sum_9" t-value="0"/>
                                            <t t-set="sum_11" t-value="0"/>
                                            <t t-set="sum_12" t-value="0"/>
                                            <t t-foreach="widget.ziniarastis_period_lines" t-as="line">
                                                <tr class="second_table_row_faktiskai" t-att-row="i">
                                                    <div>
                                                        <td class="mark_color" style="text-align: center !important;" t-att-row="i" column="c1"><t t-esc="line.days_total"/></td>
                                                        <td class="mark_color" style="text-align: center !important;" t-att-row="i" column="c2"><t t-esc="line.hours_worked"/></td>
                                                        <td class="mark_color" style="text-align: center !important;" t-att-row="i" column="c3"><span t-esc="line.hours_night"/></td>
                                                        <td class="mark_color" style="text-align: center !important;" t-att-row="i" column="c4"><t t-esc="line.hours_overtime"/></td>
                                                        <td class="mark_color" style="text-align: center !important;" t-att-row="i" column="c5"><t t-esc="line.hours_not_regular"/></td>
                                                        <td class="mark_color" style="text-align: center !important;" t-att-row="i" column="c6"><t t-esc="line.hours_watch_home"/></td>
                                                        <td class="mark_color" style="text-align: center !important;" t-att-row="i" column="c7"><t t-esc="line.hours_watch_work"/></td>
                                                        <td class="mark_color" style="text-align: center !important;" t-att-row="i" column="c8"><t t-esc="line.hours_weekends"/></td>
                                                        <td class="mark_color" style="text-align: center !important;" t-att-row="i" column="c9"><t t-esc="line.hours_holidays"/></td>
                                                        <!--<td class="mark_color" t-att-row="i" column="c10">todo</td>-->
                                                        <td class="mark_color" style="text-align: center !important;" t-att-row="i" column="c11"><t t-esc="line.days_not_worked"/></td>
                                                        <td class="mark_color" style="text-align: center !important;" t-att-row="i" column="c12"><t t-esc="line.hours_not_worked"/></td>
                                                    </div>
                                                </tr>
                                                <t t-set="sum_1" t-value="sum_1 + line.days_total"/>
                                                <t t-set="sum_2" t-value="sum_2 + line.hours_worked"/>
                                                <t t-set="sum_3" t-value="sum_3 + line.hours_night"/>
                                                <t t-set="sum_4" t-value="sum_4 + line.hours_overtime"/>
                                                <t t-set="sum_5" t-value="sum_5 + line.hours_not_regular"/>
                                                <t t-set="sum_6" t-value="sum_6 + line.hours_watch_home"/>
                                                <t t-set="sum_7" t-value="sum_7 + line.hours_watch_work"/>
                                                <t t-set="sum_8" t-value="sum_8 + line.hours_weekends"/>
                                                <t t-set="sum_9" t-value="sum_9 + line.hours_holidays"/>
                                                <t t-set="sum_11" t-value="sum_11 + line.days_not_worked"/>
                                                <t t-set="sum_12" t-value="sum_12 + line.hours_not_worked"/>
                                                <t t-set="i" t-value="i+1"/>
                                            </t>
                                            <tr class="second_table_row_faktiskai" style="font-weight: bold" t-att-row="i">
                                                <div>
                                                    <td class="mark_color" style="text-align: center !important;" t-att-row="i" column="c1"><t t-esc="sum_1"/></td>
                                                    <td class="mark_color" style="text-align: center !important;" t-att-row="i" column="c2"><t t-esc="sum_2"/></td>
                                                    <td class="mark_color" style="text-align: center !important;" t-att-row="i" column="c3"><span t-esc="sum_3"/></td>
                                                    <td class="mark_color" style="text-align: center !important;" t-att-row="i" column="c4"><t t-esc="sum_4"/></td>
                                                    <td class="mark_color" style="text-align: center !important;" t-att-row="i" column="c5"><t t-esc="sum_5"/></td>
                                                    <td class="mark_color" style="text-align: center !important;" t-att-row="i" column="c6"><t t-esc="sum_6"/></td>
                                                    <td class="mark_color" style="text-align: center !important;" t-att-row="i" column="c7"><t t-esc="sum_7"/></td>
                                                    <td class="mark_color" style="text-align: center !important;" t-att-row="i" column="c8"><t t-esc="sum_8"/></td>
                                                    <td class="mark_color" style="text-align: center !important;" t-att-row="i" column="c9"><t t-esc="sum_9"/></td>
                                                    <td class="mark_color" style="text-align: center !important;" t-att-row="i" column="c11"><t t-esc="sum_11"/></td>
                                                    <td class="mark_color" style="text-align: center !important;" t-att-row="i" column="c12"><t t-esc="sum_12"/></td>
                                                </div>
                                            </tr>
                                        </tr>
                                    </table>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
            </tr>
        </div>
    </t>
</templates>
