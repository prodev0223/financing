<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="group_show_avg_cost" model="res.groups">
            <field name="name">Robo show avg. cost</field>
            <field name="robo_front" eval="True"/>
            <field name="front_help">Matoma produkto savikaina sąskaitų eilutėse</field>
            <field name="front_category_id" eval="ref('robo_basic.front_res_groups_category_stock')"/>
        </record>

        <record id="sale.view_sale_order_kanban" model="ir.ui.view">
            <field name="robo_front">True</field>
        </record>
        <record id="view_sale_order_kanban" model="ir.ui.view">
            <field name="name">sale.order.kanban</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale.view_sale_order_kanban"/>
            <field name="arch" type="xml">
                <xpath expr="//kanban" position="attributes">
                    <attribute name="class">o_kanban_mobile</attribute>
                    <attribute name="create">0</attribute>
                    <attribute name="import">0</attribute>
                </xpath>
            </field>
        </record>

        <record id="purchase.view_purchase_order_kanban" model="ir.ui.view">
            <field name="robo_front">True</field>
        </record>
        <record id="stock.stock_scrap_form_view" model="ir.ui.view">
            <field name="robo_front">True</field>
        </record>
        <record id="view_purchase_order_kanban" model="ir.ui.view">
            <field name="name">purchase.order.kanban</field>
            <field name="model">purchase.order</field>
            <field name="inherit_id" ref="purchase.view_purchase_order_kanban"/>
            <field name="arch" type="xml">
                <xpath expr="//kanban" position="attributes">
                    <attribute name="class">o_kanban_mobile</attribute>
                    <attribute name="create">0</attribute>
                    <attribute name="import">0</attribute>
                </xpath>
            </field>
        </record>
        <record id="product.product_template_kanban_view" model="ir.ui.view">
            <field name="robo_front">True</field>
        </record>
        <record id="product_template_kanban_view" model="ir.ui.view">
            <field name="name">product.template.product.kanban</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="product.product_template_kanban_view"/>
            <field name="arch" type="xml">
                <xpath expr="//kanban" position="attributes">
                    <attribute name="class">o_kanban_mobile</attribute>
                    <attribute name="create">1</attribute>
                    <attribute name="import">0</attribute>
                </xpath>
            </field>
        </record>

        <!--Main menu-->
        <menuitem id="menu_robo_stock"
                  parent="robo.menu_start"
                  name="Sandėlis"
                  sequence="52"
                  groups="stock_extend.group_robo_stock"
                  robo_front="True"
                  robo_extended="1"
                  force_web_icon="icon-truck,none,none"
        />

        <record id="action_picking_related_moves" model="ir.actions.act_window">
            <field name="name">Atsargų perkėlimai</field>
            <field name="res_model">stock.move</field>
            <field name="domain">[('picking_id', '=', active_id)]</field>
            <field name="view_mode">tree_robo,form</field>
            <field name="robo_menu" ref="menu_robo_stock"/>
        </record>

        <record model="ir.actions.server" id="stock_move_unreserve_action">
            <field name="name">Atrezerevuoti judėjimus</field>
            <field name="model_id" ref="stock.model_stock_move"/>
            <field name="code">
                if user.is_manager():
                action = object.browse(context.get('active_ids', False)).do_unreserve()
            </field>
            <field name="robo_front" eval="1"/>
        </record>
        <function name="create_stock_move_unreserve_action" model="stock.move"/>

        <record id="view_move_form" model="ir.ui.view">
            <field name="name">stock.move.form</field>
            <field name="model">stock.move</field>
            <field eval="1" name="priority"/>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <form string="Stock Moves">
                    <header>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,assigned,done"/>
                    </header>
                    <sheet>
                        <group>
                            <group name="main_grp" colspan="2">
                                <group name="main_grp_col1">
                                    <field name="product_id"
                                           context="{'form_view_ref': 'robo_stock.robo_stock_product_form',
                                           'default_type': 'product',
                                           'default_categ_id': %(l10n_lt.product_category_1)d}"/>
                                    <label for="product_uom_qty"/>
                                    <div class="o_row">
                                        <field name="product_uom_qty"/>
                                        <field name="product_uom" options="{'no_open': True, 'no_create': True}"
                                               groups="product.group_uom"/>
                                    </div>
                                    <field name="non_error_qty"/>
                                    <field name="name"/>
                                </group>
                                <group name="main_grp_col2">
                                    <field name="invoice_line_id"/>
                                    <field name="picking_type_id" options="{'no_open': True, 'no_create': True}"/>
                                    <!--<field name="priority"/>-->
                                    <field name="company_id" groups="base.group_multi_company"
                                           options="{'no_create': True}"/>
                                    <field name="date_expected" attrs="{'invisible': [('state', '=', 'done')]}"/>
                                    <field name="date" attrs="{'invisible': [('state', '!=', 'done')]}"/>
                                </group>
                            </group>
                            <group name="origin_grp" string="Susijęs dokumentas">
                                <field name="origin" options="{'no_open': True, 'no_create': True}"/>
                                <field name="location_id" groups="stock.group_stock_multi_locations"
                                       options="{'no_open': True, 'no_create': True}"/>
                                <field name="picking_id"
                                       context="{'form_view_ref': 'robo_stock.robo_stock_picking_form'}"
                                       string="Važtaraščio numeris" domain="[('picking_type_id','=',picking_type_id)]"/>
                                <field name="create_date" groups="base.group_no_one"/>
                                <field name="procure_method" attrs="{'readonly': [('state', '!=', 'draft')]}"
                                       groups="base.group_no_one"/>
                                <field name="group_id" options="{'no_open': True, 'no_create': True}"/>
                            </group>
                            <group name="destination_grp" string="Destination"
                                   groups="stock.group_stock_multi_locations">
                                <field name="location_dest_id" options="{'no_open': True, 'no_create': True}"/>
                                <field name="partner_id" context="{'contact_display':'partner'}"/>
                                <field name="picking_partner_id" context="{'contact_display':'partner'}"/>
                                <field name="move_dest_id" groups="base.group_no_one" readonly="1"/>
                            </group>
                            <group name="quants_grp" string="Reserved Quants" colspan="2" groups="base.group_system"
                                   attrs="{'invisible': [('state', '=', 'done')]}">
                                <field name="string_availability_info"/>
                                <field name="reserved_quant_ids" nolabel="1"/>
                            </group>
                            <group name="moved_quants_grp" string="Moved Quants" colspan="4" groups="stock.group_stock_manager"
                                   attrs="{'invisible': [('state', '!=', 'done')]}">
                                <field name="quant_ids" readonly="1" nolabel="1"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="view_move_tree_receipt_picking" model="ir.ui.view">
            <field name="name">stock.move.tree2</field>
            <field name="model">stock.move</field>
            <field name="priority" eval="6"/>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <tree decoration-muted="state == 'cancel'" default_order='date_expected, picking_id, sequence'
                      string="Moves" create="0" import="0">
                    <field name="date_expected" widget='date'/>
                    <field name="date" widget="date"/>
                    <field name="picking_id" string="Reference" invisible="1"/>
                    <field name="sequence" invisible="1"/>
                    <field name="origin"/>
                    <field name="product_id" context="{'location': location_id}"/>
                    <field name="product_uom_qty"/>
                    <field name="product_uom" options="{'no_open': True, 'no_create': True}" string="Unit of Measure"
                           groups="product.group_uom"/>
                    <field name="location_id" invisible="1"/>
                    <field name="location_dest_id" invisible="1"/>
                    <field name="create_date" invisible="1"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        <record id="view_stock_pack_operation_picking_form" model="ir.ui.view">
            <field name="name">stock.pack.operation.form</field>
            <field name="model">stock.pack.operation</field>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <form string="Operacija">
                    <group name="qty_to">
                        <group string="Produktai">
                            <field name="lots_visible" string="SN" invisible="1"/>
                            <field name="picking_source_location_id" string="Pakrovimo vieta" invisible="1"/>
                            <field name="picking_destination_location_id" string="Iškrovimo vieta" invisible="1"/>
                            <field name="product_id" string="Produktas"
                                   attrs="{'required': [('package_id', '=', False)]}"
                                   context="{'form_view_ref': 'robo_stock.robo_stock_product_form'}"
                                   readonly="1" options="{'no_create': True, 'no_open': False}"/>
                            <label for="qty_done" string="Kiekiai"/>
                            <div>
                                <field name="qty_done" nolabel="1" attrs="{'readonly': [('lots_visible','=',True)]}"
                                       class="oe_inline"/>
                                /
                                <field name="product_qty" class="oe_inline" readonly="1"/>
                                <field name="product_uom_id" options="{'no_open': True, 'no_create': True}"
                                       groups="product.group_uom" class="oe_inline"/>
                            </div>
                        </group>
                        <group string="Lokacijos" groups="stock.group_stock_multi_locations">
                            <field name="location_id" string="Pakrovimo vieta"
                                   options="{'no_open': True, 'no_create': True}"
                                   domain="[('id', 'child_of', picking_source_location_id)]"/>
                            <field name="location_dest_id" string="Iškrovimo vieta"
                                   options="{'no_open': True, 'no_create': True}"
                                   domain="[('id', 'child_of', picking_destination_location_id)]"/>
                        </group>
                        <group string="Pakuotės" groups="stock.group_tracking_lot">
                            <field name="package_id" attrs="{'required': [('product_id', '=', False)]}"
                                   string="Pakuotė" options="{'no_open': True, 'no_create': True}"
                                   domain="[('location_id', '=', location_id)]"
                                   context="{'default_location_id': location_id}"/>
                            <field name="result_package_id" string="Pakuotė"
                                   options="{'no_open': True, 'no_create': True}"
                                   domain="['|', ('location_id', '=', False), ('location_id', '=', location_dest_id)]"
                                   context="{'default_location_id': location_dest_id}"/>
                        </group>
                    </group>
                </form>
            </field>
        </record>
        <record id="view_pack_operation_details_form_save" model="ir.ui.view">
            <field name="name">stock.pack.operation.details.form.save</field>
            <field name="model">stock.pack.operation</field>
            <field name="mode">primary</field>
            <field name="robo_front">True</field>
            <field name="inherit_id" ref="robo_stock.view_stock_pack_operation_picking_form"/>
            <field eval="15" name="priority"/>
            <field name="arch" type="xml">
                <group name="qty_to" position="after">
                    <footer>
                        <button name="save" type="object" string="Išsaugoti" class="oe_highlight"/>
                        <button string="Atšaukti" special="cancel"/>
                    </footer>
                </group>
                <field name="product_uom_id" position="after">
                    <button name="split_quantities"
                            attrs="{'invisible': ['|', ('qty_done', '&lt;=', 0.0), ('product_qty', '&lt;=', 0.0)]}"
                            class="oe_link" string="Išskaidyti" type="object"/>
                </field>
            </field>
        </record>
        <record id="view_move_picking_tree" model="ir.ui.view">
            <field name="name">stock.move.tree</field>
            <field name="model">stock.move</field>
            <field eval="12" name="priority"/>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <tree decoration-muted="scrapped == True" decoration-danger="original_product_id" string="Pervežimai" editable="bottom"
                      class="robo_operation_edit" import="0">
                    <field name="product_id"
                           context="{'form_view_ref': 'robo_stock.robo_stock_product_form',
                           'location': location_id,
                           'default_type': 'product', 'default_categ_id': %(l10n_lt.product_category_1)d}"
                           string="Produktas"/>
                    <field name="original_product_id" groups="base.group_system,robo_stock.group_robo_product_mapping"/>
                    <field name="name" invisible="0" string="Pavadinimas"/>
                    <field name="product_uom_qty" string="Originalus kiekis"/>
                    <field name="non_error_qty" string="Kiekis"/>
                    <field name="quants_to_date"/>
                    <field name="product_uom" options="{'no_open': True, 'no_create': True}" string="Matavimo vienetai"
                           groups="product.group_uom"/>
                    <field name="location_id" invisible="1" options="{'no_open': True, 'no_create': True}"
                           string="Pakrovimo vieta"/>
                    <field name="create_date" invisible="1" string="Sukūrimo data"/>
                    <field name="date_expected" invisible="1" string="Suplanuota data"/>
                    <field name="picking_type_id" invisible="1" options="{'no_open': True, 'no_create': True}"
                           string="Priėmimo tipas"/>
                    <field name="scrapped" invisible="1" string="Nurašyta"/>
                    <field name="availability" invisible="1" string="Likutis"/>
                    <field name="reserved_availability" invisible="1" string="Likutis"/>
                    <field name="location_dest_id" invisible="1" options="{'no_open': True, 'no_create': True}"
                           string="Pristatymo vieta"/>
                    <field name="remaining_qty" invisible="1" string="Likęs kiekis"/>
                    <field name="state" string="Būsena"/>
                </tree>
            </field>
        </record>
        <record id="view_move_picking_tree_readonly" model="ir.ui.view">
            <field name="name">stock.move.tree</field>
            <field name="model">stock.move</field>
            <field eval="12" name="priority"/>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <tree decoration-muted="scrapped == True" decoration-danger="original_product_id" string="Pervežimai" create="0"
                      class="robo_operation_edit" import="0">
                    <field name="product_id"
                           context="{'form_view_ref': 'robo_stock.robo_stock_product_form',
                           'location': location_id,
                           'default_type': 'product', 'default_categ_id': %(l10n_lt.product_category_1)d}"
                           string="Produktas"/>
                    <field name="original_product_id" groups="base.group_system,robo_stock.group_robo_product_mapping"/>
                    <field name="name" invisible="1" string="Pavadinimas"/>
                    <field name="product_uom_qty" string="Originalus kiekis"/>
                    <field name="non_error_qty" string="Kiekis"/>
                    <field name="product_uom" options="{'no_open': True, 'no_create': True}" string="Matavimo vienetai"
                           groups="product.group_uom"/>
                    <field name="location_id" invisible="0" options="{'no_open': True, 'no_create': True}"
                           string="Pakrovimo vieta"/>
                    <field name="create_date" invisible="1" string="Sukūrimo data"/>
                    <field name="date_expected" invisible="1" string="Suplanuota data"/>
                    <field name="picking_type_id" invisible="1" options="{'no_open': True, 'no_create': True}"
                           string="Priėmimo tipas"/>
                    <field name="scrapped" invisible="1" string="Nurašyta"/>
                    <field name="availability" invisible="1" string="Likutis"/>
                    <field name="reserved_availability" invisible="1" string="Likutis"/>
                    <field name="location_dest_id" invisible="0" options="{'no_open': True, 'no_create': True}"
                           string="Pristatymo vieta"/>
                    <field name="remaining_qty" invisible="1" string="Likęs kiekis"/>
                    <field name="state" string="Būsena"/>
                </tree>
            </field>
        </record>
        <record id="view_move_picking_form" model="ir.ui.view">
            <field name="name">stock.move.form</field>
            <field name="model">stock.move</field>
            <field eval="20" name="priority"/>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <form string="Pervežimai">
                    <header>
                        <field name="state" widget="statusbar" help="" string="Būsena"/>
                    </header>
                    <sheet>
                        <group>
                            <group string="Produktai">
                                <field name="product_id" string="Produktas"
                                       options="{'no_open': False, 'no_create': True}"
                                       context="{'form_view_ref':'robo_stock.robo_stock_product_form'}"
                                       help=""/>
                                <field name="original_product_id"
                                       options="{'no_open': False, 'no_create': True}"
                                       context="{'form_view_ref':'robo_stock.robo_stock_product_form'}"
                                       groups="base.group_system,robo_stock.group_robo_product_mapping"
                                       help=""/>
                                <field name="picking_type_id" string="Priėmimo tipas" invisible="1"
                                       options="{'no_open': True, 'no_create': True}" help=""/>
                                <field name="group_id" string="Pervežimo grupė" invisible="1"
                                       options="{'no_open': True, 'no_create': True}" help=""/>
                                <label for="product_uom_qty" help="" string="Kiekis"/>
                                <div>
                                    <field name="product_uom_qty" help=""/>
                                    <field name="product_uom" help="" options="{'no_open': True, 'no_create': True}"
                                           string="Matavimo vienetai" groups="product.group_uom" class="oe_inline"/>
                                </div>
                                <field name="product_tmpl_id" string="Produktas" invisible="1"
                                       options="{'no_open': True, 'no_create': True}" help=""/>
                            </group>
                            <group string="Pristatymo vieta" groups="base.group_no_one">
                                <field name="name" help="" string="Pavadinimas"/>
                                <field name="location_id" options="{'no_open': True, 'no_create': True}" help=""
                                       string="Pakrovimo vieta"/>
                                <field name="location_dest_id" options="{'no_open': True, 'no_create': True}" help=""
                                       string="Pristatymo vieta"/>
                            </group>
                        </group>
                        <group>
                            <group string="Sąlygos">
                                <field name="procure_method" help="" attrs="{'readonly': [('state', '!=', 'draft')]}"
                                       groups="stock.group_adv_location" invisible="1"/>
                                <field name="create_date" invisible="1" help="" string="Sukūrimo data"/>
                                <field name="date_expected" help="" string="Suplanuota data"/>
                                <field name="move_dest_id" help="" groups="base.group_no_one" readonly="1"
                                       string="Pristatymo vieta"
                                       options="{'no_open': True, 'no_create': True}"/>
                            </group>
                            <group name="quants_grp" help="" string="Rezervacija"
                                   attrs="{'invisible': [('state', '=', 'draft')]}">
                                <field name="string_availability_info" help="" string="Rezervacijos informacija"/>
                            </group>
                            <group name="moved_quants_grp" help="" string="Pervežti produktai" colspan="4"
                                   groups="stock.group_stock_manager" attrs="{'invisible': [('state', '!=', 'done')]}">
                                <field name="quant_ids" readonly="1" nolabel="1" help="" context="{'form_view_ref': 'robo_stock.robo_stock_quant_form'}"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record model="ir.ui.view" id="stock_move_kanban">
            <field name="name">stock.move.kanban</field>
            <field name="model">stock.move</field>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <kanban class="o_kanban_mobile">
                    <field name="product_id"/>
                    <field name="product_uom_qty"/>
                    <field name="product_uom" options="{'no_open': True, 'no_create': True}" string="Unit of Measure"
                           groups="product.group_uom"/>
                    <field name="product_packaging" domain="[('product_tmpl_id','=',product_tmpl_id)]"
                           groups="product.group_stock_packaging"/>
                    <field name="picking_id"/>
                    <field name="location_id" groups="stock.group_stock_multi_locations"/>
                    <field name="location_dest_id" groups="stock.group_stock_multi_locations"/>
                    <field name="create_date" groups="base.group_no_one"/>
                    <field name="date" string="Date" groups="base.group_no_one"/>
                    <field name="date_expected" string="Date Expected"/>
                    <field name="state"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div t-attf-class="oe_kanban_card oe_kanban_global_click">
                                <div class="row">
                                    <div class="col-xs-6">
                                        <strong>
                                            <span>
                                                <t t-esc="record.product_id.value"/>
                                            </span>
                                        </strong>
                                    </div>
                                    <div class="col-xs-6">
                                        <strong>
                                            <span class="pull-right text-right">
                                                <field name="state" widget="kanban_label_selection"
                                                       options="{'classes': {'draft': 'default', 'cancel': 'default', 'none': 'danger', 'waiting': 'warning', 'confirmed': 'warning', 'partially_available': 'warning', 'done': 'success'}}"/>
                                            </span>
                                        </strong>
                                    </div>
                                </div>
                                <div class="row text-muted">
                                    <div class="col-xs-6">
                                        <span>
                                            <t t-esc="record.product_uom_qty.value"/>
                                        </span>
                                    </div>
                                    <div class="col-xs-6">
                                        <span class="pull-right text-right">
                                            <t t-esc="record.date_expected.value and record.date_expected.value.split(' ')[0] or False"/>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>


        <report
                id="report_sale_offer"
                model="sale.order"
                string="Komercinis pasiūlymas"
                report_type="qweb-pdf"
                name="robo_stock.report_sale_offer"
                file="robo_stock.report_sale_offer"
                attachment_use="False"
                attachment=""
        />
        <record id="robo_stock.report_sale_offer" model="ir.actions.report.xml">
            <field name="paperformat_id" ref="report.paperformat_euro"/>
            <field name="print_report_name">'komercinis.pdf'</field>
            <field name="attachment_use" eval="False"/>
        </record>

        <record model="ir.ui.view" id="robo_sale_order_tree">
            <field name="name">robo.sale.order.tree</field>
            <field name="model">sale.order</field>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <tree string="Pardavimai iš sandėlio" import="0" create="0" class="o_sale_order"
                      decoration-bf="message_needaction==True"
                      decoration-muted="state=='draft'" decoration-info="state=='sale'"
                      decoration-danger="state=='cancel'" decoration-success="state == 'done'"
                >
                    <field name="message_needaction" invisible="1"/>
                    <field name="name" string="Užsakymo numeris"/>
                    <field name="date_order" string="Data"/>
                    <field name="partner_id" string="Pirkėjas"/>
                    <field name="user_id" string="Kliento vadybininkas"/>
                    <field name="amount_total" sum="Viso" widget="monetary"/>
                    <field name="currency_id" invisible="1"/>
                    <field name="invoice_status" string="Pajamavimo statusas"/>
                    <field name="delivery_status"/>
                    <field name="state" string="Būsena"/>
                    <field name="products_inside" invisible="1"/>
                    <field name="is_invoiced" invisible="1"/>
                    <button name="is_invoiced_label" icon="fa-check-circle" string="Išrašyta sąskaita faktūra"
                            attrs="{'invisible': [('is_invoiced','=',False)]}"/>
                </tree>
            </field>
        </record>

        <record model="ir.actions.server" id="action_multi_lock">
            <field name="name">Užrakinti pasirinktus pardavimus</field>
            <field name="model_id" ref="robo_stock.model_sale_order"/>
            <field name="code">
                action = object.browse(context.get('active_ids', False)).mass_lock()
            </field>
            <field name="robo_front" eval="1"/>
        </record>
        <function name="create_action_multi_lock" model="sale.order"/>

        <record model="ir.ui.view" id="robo_sale_order_form">
            <field name="name">robo.sale.order.form</field>
            <field name="model">sale.order</field>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <form string="Pardavimai iš sandėlio" class="o_sale_order robo_stock">
                    <header>
                        <button name="action_invoice_create" string="Sukurti sąskaitą faktūrą"
                                type="object" class="btn-primary" help=""
                                attrs="{'invisible': [('invoice_status', '!=', 'to invoice')]}"/>
                        <button name="sale_order_offer_print" string="Spausdinti komercinį pasiūlymą" type="object"
                                groups="robo_basic.group_robo_free_employee,robo_basic.group_robo_premium_user"/>
                        <button name="action_confirm" states="sent" string="Patvirtinti užsakymą"
                                class="btn-primary o_sale_confirm" type="object" help=""
                                />
                        <button name="action_confirm" states="draft" string="Patvirtinti užsakymą"
                                class="o_sale_confirm" type="object" help=""
                                />
                        <button name="create_pickings" string="Kurti važtaraščius" type="object" attrs="{'invisible': [('show_create_pickings', '=', False)]}"/>
                        <button name="action_cancel" states="draft,sent,sale" type="object" string="Atšaukti" help=""
                                />
                        <button name="action_draft" states="cancel" type="object" string="Atstatyti į juodraštį"
                                 help=""/>
                        <button name="action_done" type="object" string="Užrakinti" states="sale"
                                help="Užrakinus užsakymą nebebus galima jį redaguoti, tačiau bus galima išsiųsti prekes ar išrašyti sąskaitą faktūrą."/>
                        <button name="action_unlock" type="object" string="Atrakinti" states="done"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,sale,done" on_change="1"
                                help=""/>
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button type="object" name="action_view_delivery_robo" class="oe_stat_button"
                                    icon="fa-truck"
                                    attrs="{'invisible': [('delivery_count', '=', 0)]}" help=""
                                    >
                                <field name="delivery_count" widget="statinfo" string="Važtaraščiai" help=""
                                       />
                            </button>
                            <button name="action_view_invoice_robo" type="object" class="oe_stat_button" help=""
                                    icon="fa-pencil-square-o" attrs="{'invisible': [('invoice_count', '=', 0)]}"
                                    >
                                <field name="invoice_count" widget="statinfo" string="Sąskaitos" help=""
                                       />
                            </button>
                        </div>
                        <div class="oe_title">
                            <h1>
                                <field name="name" readonly="1" on_change="1" help=""
                                       />
                            </h1>
                        </div>
                        <group>
                            <group>
                                <field name="show_create_pickings" invisible="1"/>
                                <field name="partner_id" domain="[('customer','=',True)]" help=""
                                       context="{'search_default_customer':1, 'show_address': 1, 'form_view_ref': 'robo.new_clients_customer_form'}"
                                       options="{'always_reload': True}" on_change="1" can_create="true"
                                       can_write="true"/>
                                <field name="partner_tag_ids" widget="many2many_tags"/>
                                <field name="partner_invoice_id"
                                       context="{'default_type':'invoice',
                                       'default_parent_id': partner_id,
                                       'form_view_ref': 'robo.new_contact_form'}"
                                       can_create="true"
                                       can_write="true" help=""
                                       groups="sale.group_delivery_invoice_address"
                                       attrs="{'readonly': [('state','=','done')]}"/>
                                <field name="partner_shipping_id"
                                       context="{'default_type':'delivery',
                                       'default_parent_id': partner_id,
                                       'form_view_ref': 'robo.new_contact_form'}"
                                       on_change="1"
                                       groups="sale.group_delivery_invoice_address"
                                       can_create="true" can_write="true" help=""
                                       attrs="{'readonly': [('state','=','done')]}"/>
                                <field name="warehouse_id" options="{'no_create': True}" on_change="1" help=""/>
                            </group>
                            <group>
                                <field name="date_order" string="Užsakymo data" help=""
                                       attrs="{'invisible': [('state', 'in', ['sale', 'done', 'cancel'])]}"
                                       context="{'date': date_order, 'vat_date_test': True}"/>
                                <field name="confirmation_date" string="Patvirtinimo data" help=""
                                       attrs="{'invisible': [('state', 'in', ['draft', 'sent', 'cancel'])]}"/>
                                <field name="force_date" string="Priverstinė data"/>
                                <field name="pricelist_id" on_change="1" can_create="false" can_write="false"
                                       groups="stock_extend.group_robo_stock" help="" context="{'form_view_ref': 'robo_stock.product_pricelist_view_form_front'}"/>
                                <field name="currency_id" invisible="1" can_create="true" can_write="true" help=""/>
                                <field name="payment_term_id" options="{'no_create': True}" can_create="false"
                                       can_write="false" invisible="1" help=""/>
                                <field name="id" invisible="1"/>
                                <field name="show_vat" invisible="1"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Užsakymo eilutės">
                                <field class="order_lines" name="order_line" mode="tree,kanban"
                                       attrs="{'readonly': [('state', 'in', ('done','cancel'))]}"
                                       context="{'warehouse_id': warehouse_id, 'default_warehouse_id': warehouse_id}">
                                    <form string="Užsakymo eilutės">
                                        <group>
                                            <group>
                                                <field name="product_id" help=""
                                                       context="{'form_view_ref': 'robo_stock.robo_stock_product_form', 'partner_id':parent.partner_id,
                                                       'quantity':product_uom_qty, 'pricelist':parent.pricelist_id, 'uom':product_uom,
                                                       'warehouse': warehouse_id,
                                                       'company_id': parent.company_id, 'default_type': 'product', 'default_categ_id': %(l10n_lt.product_category_1)d}"
                                                       attrs="{'readonly': ['|', ('qty_invoiced', '&gt;', 0), ('procurement_ids', '!=', [])]}"
                                                       />
                                                <field name="layout_category_id" help=""
                                                       options="{'no_create': True, 'no_open': True}"
                                                       groups="sale.group_sale_layout"/>
                                                <field name="invoice_status" invisible="1" help=""/>
                                                <field name="qty_to_invoice" invisible="1" help=""/>
                                                <field name="qty_delivered_updateable" invisible="1" help=""/>
                                                <field name="warehouse_id" string="Sandėlis" required="1"
                                                       options="{'no_open': True, 'no_create': True}"/>
                                                <field name="route_id" string="Sandėlio taisyklė"
                                                       groups="stock.group_adv_location"/>
                                                <field name="procurement_ids" help=""
                                                       options="{'no_create': True, 'no_open': True}" invisible="1"/>
                                                <field name="price_subtotal" invisible="1" help=""/>
                                                <label for="product_uom_qty" string="Užsakytas kiekis"/>
                                                <div>
                                                    <field context="{'partner_id':parent.partner_id, 'quantity':product_uom_qty, 'pricelist':parent.pricelist_id, 'uom':product_uom, 'uom_qty_change':True, 'company_id': parent.company_id}"
                                                           name="product_uom_qty" class="oe_inline" help=""/>
                                                    <field name="product_uom" groups="product.group_uom"
                                                           class="oe_inline oe_no_button" help=""
                                                           options="{'no_create': True, 'no_open': True}"
                                                           attrs="{'readonly': [('state', 'in', ('sale','done', 'cancel'))]}"/>
                                                </div>
                                                <label for="qty_delivered" string="Pristatytas kiekis"
                                                       invisible="context.get('hide_sale')"/>
                                                <div invisible="context.get('hide_sale')">
                                                    <field name="qty_delivered" help=""
                                                           attrs="{'readonly': [('qty_delivered_updateable', '=', False)]}"/>
                                                </div>
                                                <label for="qty_invoiced" string="Užpajamuotas kiekis"
                                                       invisible="context.get('hide_sale')"/>
                                                <div invisible="context.get('hide_sale')">
                                                    <field name="qty_invoiced" invisible="context.get('hide_sale')"
                                                           help=""/>
                                                </div>
                                                <field name="price_unit" help=""/>
                                                <label for="discount" string="Nuolaida"
                                                       groups="sale.group_discount_per_so_line"/>
                                                <div name="discount" groups="sale.group_discount_per_so_line">
                                                    <field name="discount" class="oe_inline" help=""/>
                                                    %
                                                </div>
                                            </group>
                                            <group>
                                                <field name="tax_id" widget="many2many_tags" help=""
                                                       options="{'no_create': True, 'no_open': True}"
                                                       domain="[('type_tax_use','=','sale'),('company_id','=',parent.company_id),('price_include','=',parent.price_include)]"
                                                       attrs="{'readonly': [('qty_invoiced', '&gt;', 0)]}"/>
                                                <label for="customer_lead" string="Pristatymo terminas"/>
                                                <div>
                                                    <field name="customer_lead" class="oe_inline" help=""/>
                                                    d.
                                                </div>
                                            </group>
                                        </group>
                                        <label for="name"/>
                                        <field name="name" help=""/>
                                        <div groups="base.group_no_one">
                                            <label for="invoice_lines"/>
                                            <field name="invoice_lines"/>
                                        </div>
                                        <field name="state" invisible="1"/>
                                    </form>
                                    <tree string="Užsakymo eilutės" editable="bottom"
                                          decoration-danger="price_below_cost"
                                          decoration-info="invoice_status=='to invoice'" class="robo_stock_edit">
                                        <field name="sequence" widget="handle"/>
                                        <field name="product_id" string="Produktas"
                                               help=""
                                               attrs="{'readonly': ['|', ('qty_invoiced', '&gt;', 0), ('procurement_ids', '!=', [])]}"
                                               context="{'form_view_ref': 'robo_stock.robo_stock_product_form',
                                               'partner_id':parent.partner_id, 'quantity':product_uom_qty,
                                               'pricelist':parent.pricelist_id, 'uom':product_uom,
                                               'company_id': parent.company_id, 'default_type': 'product',
                                               'default_categ_id': %(l10n_lt.product_category_1)d,
                                               'warehouse': warehouse_id}"/>
                                        <field name="layout_category_id" groups="sale.group_sale_layout" help=""/>
                                        <field name="name" string="Aprašymas" help=""/>
                                        <field name="warehouse_id" string="Sandėlis" required="1"
                                               options="{'no_open': True, 'no_create': True}"/>
                                        <field name="route_id" string="Sandėlio taisyklė"
                                               groups="stock.group_adv_location"
                                               options="{'no_open': True, 'no_create': True}"/>
                                        <field name="product_uom_qty" string="Užsakytas kiekis" help=""
                                               context="{'partner_id':parent.partner_id, 'quantity':product_uom_qty, 'pricelist':parent.pricelist_id, 'uom':product_uom, 'company_id': parent.company_id}"/>
                                        <field name="qty_delivered" string="Pristatytas kiekis"
                                               invisible="context.get('hide_sale')" help=""
                                               attrs="{'readonly': [('qty_delivered_updateable', '=', False)]}"/>
                                        <field name="qty_invoiced" string="Užpajamuotas kiekis" help=""
                                               invisible="context.get('hide_sale')"/>
                                        <field name="qty_to_invoice" invisible="1" help=""/>
                                        <field name="product_uom_categ_id" invisible="1"/>
                                        <field name="product_uom" string="Matavimo vienetas" help=""
                                               domain="[('category_id','=', product_uom_categ_id)]"
                                               attrs="{'readonly': [('state', 'in', ('sale','done', 'cancel'))]}"
                                               context="{'company_id': parent.company_id}" groups="product.group_uom"
                                               options="{'no_create': True, 'no_open': True}"/>
                                        <field name="price_unit" string="Vieneto kaina" help=""
                                               attrs="{'readonly': [('qty_invoiced', '&gt;', 0)]}"/>
                                        <field name="tax_id" widget="many2many_tags" string="Mokesčiai" help=""
                                               options="{'no_create': True, 'no_open': True}"
                                               context="{'date': parent.date_order, 'vat_date_test': True}"
                                               domain="[('type_tax_use','=','sale'),('company_id','=',parent.company_id),('price_include','=',parent.price_include)]"
                                               attrs="{'readonly': [('qty_invoiced', '&gt;', 0)], 'required': [('require_vat', '=', True)]}"/>
                                        <field name="discount" groups="sale.group_discount_per_so_line"
                                               string="Nuolaida" help=""/>
                                        <!--<field name="price_subtotal" widget="monetary" string="Suma be PVM" help=""-->
                                               <!--groups="sale.group_show_price_subtotal"/>-->
                                        <!--<field name="price_total" widget="monetary" string="Suma su PVM" help=""-->
                                               <!--groups="sale.group_show_price_total"/>-->
                                        <field name="amount_depends" widget="monetary"
                                               groups="sale.group_show_price_subtotal"/>
                                        <field name="price_subtotal_make_force_step" invisible="1"/>
                                        <field name="price_subtotal_save_force_value" invisible="1"/>
                                        <field name="qty_delivered_updateable" invisible="1" help=""/>
                                        <field name="procurement_ids" invisible="1" help=""/>
                                        <field name="state" invisible="1" help=""/>
                                        <field name="invoice_status" invisible="1" help=""/>
                                        <field name="customer_lead" invisible="1" help=""/>
                                        <field name="require_vat" invisible="1"/>
                                        <field name="price_below_cost" invisible="1"/>
                                    </tree>
                                    <kanban class="o_kanban_mobile">
                                        <field name="product_id"/>
                                        <field name="product_uom_qty"/>
                                        <field name="product_uom" groups="product.group_uom"/>
                                        <field name="price_subtotal"/>
                                        <templates>
                                            <t t-name="kanban-box">
                                                <div t-attf-class="oe_kanban_card oe_kanban_global_click">
                                                    <div class="row">
                                                        <div class="col-xs-12">
                                                            <strong>
                                                                <span>
                                                                    <t t-esc="record.product_id.value"/>
                                                                </span>
                                                            </strong>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-xs-8 text-muted">
                                                            <span>
                                                                <t t-esc="record.product_uom_qty.value"/>
                                                                <t t-esc="record.product_uom.value"/>
                                                            </span>
                                                        </div>
                                                        <div class="col-xs-4 text-muted">
                                                            <span class="pull-right text-right">
                                                                <t t-esc="record.price_subtotal.value"/>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </t>
                                        </templates>
                                    </kanban>
                                </field>
                                <group class="oe_subtotal_footer oe_right" colspan="2" name="sale_total">
                                    <field name="amount_untaxed" widget="monetary" help=""
                                           options="{'currency_field': 'currency_id'}"/>
                                    <field name="amount_tax" widget="monetary" help=""
                                           options="{'currency_field': 'currency_id'}"/>
                                    <div class="oe_subtotal_footer_separator oe_inline o_td_label">
                                        <label for="amount_total"/>
                                        <button name="button_dummy" states="draft,sent" string="(atnaujinti)"
                                                type="object" class="oe_edit_only oe_link" help=""/>
                                    </div>
                                    <field name="amount_total" nolabel="1" class="oe_subtotal_footer_separator"
                                           widget="monetary" options="{'currency_field': 'currency_id'}" help=""/>
                                    <field name="price_include_selection" style="min-width:150px"
                                           context="{'date': date_order, 'vat_date_test': True}"
                                           attrs="{'readonly': [('state','in',['cancel', 'sale', 'done'])]}"/>
                                    <field name="price_include" invisible="1"/>
                                </group>
                                <field name="note" class="oe_inline"
                                       placeholder="Čia galima suvesti užsakymo komentarus." help=""/>
                                <div class="oe_clear"/>
                            </page>
                            <page string="Kita informacija">
                                <group>
                                    <group string="Pristatymo detalės" name="sale_shipping">
                                        <field name="incoterm" string="Incoterm sąlygos" widget="selection"
                                               can_create="true" can_write="true" help=""/>
                                        <field name="picking_policy" required="True" invisible="1" help=""/>
                                    </group>
                                    <group string="Pardavimo informacija" name="sales_person">
                                        <field name="user_id" string="Kliento vadybininkas" help=""
                                               options="{'no_open': 1, 'no_create': 1}" can_create="false"
                                               can_write="true"/>
                                        <field name="tag_ids" widget="many2many_tags" can_create="true" can_write="true"
                                               invisible="1" help=""/>
                                        <field name="team_id" options="{'no_create': True, 'no_open': 1}"
                                               can_create="false" help=""
                                               can_write="true"  invisible="1"/>
                                        <field name="client_order_ref" string="Pirkėjo identifikatorius" help=""
                                               />
                                        <field name="company_id" options="{'no_create': True, 'no_open': True}"
                                               can_create="false" help=""
                                               can_write="true" invisible="1" />
                                        <!--<field name="project_id" attrs="{'invisible':[('state','=','sale')]}"-->
                                        <!--options="{'no_create': True, 'no_open': True}"-->
                                        <!--context="{'default_partner_id':partner_invoice_id, 'default_name':name}"-->
                                        <!--on_change="1" can_create="false" can_write="true" help=""-->
                                        <!--groups="analytic.group_analytic_accounting"-->
                                        <!--/>-->
                                        <!--<field name="related_project_id" options="{'no_create': True, 'no_open': True}"-->
                                        <!--attrs="{'readonly': ['|',('project_id','!=',False),('invoice_count','!=',0),('state','=','sale')],'invisible':[('state','!=','sale')]}"-->
                                        <!--context="{'default_partner_id':partner_invoice_id, 'default_name':name}"-->
                                        <!--can_create="true" can_write="true" help=""-->
                                        <!--/>-->
                                    </group>
                                    <group name="sale_pay" string="Apskaita">
                                        <field name="fiscal_position_id" options="{'no_create': True, 'no_open': True}"
                                               on_change="1" help=""
                                               can_write="true"  string="Mokestinė aplinka"/>
                                        <field name="invoice_status" string="Pajamavimo statusas" help=""
                                               attrs="{'invisible': [('state', 'not in', ('sale','done'))]}"
                                               />
                                    </group>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <!--<field name="message_follower_ids" widget="mail_followers"/>-->
                        <field name="message_ids" widget="robo_mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        <record model="ir.actions.act_window" id="open_robo_sale_orders">
            <field name="name">Pardavimai iš sandėlio</field>
            <field name="res_model">sale.order</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,pivot,kanban</field>
            <field name="target">current</field>
            <field name="view_id" ref="robo_sale_order_tree"/>
            <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree_robo', 'view_id': ref('robo_sale_order_tree')}),
                (0, 0, {'view_mode': 'kanban', 'view_id': ref('sale.view_sale_order_kanban')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('robo_sale_order_form')})]"/>
            <field name="robo_help" type="html">
                <p class="oe_view_robo_nocontent_search">
                    Ši jūsų užklausa negrąžino jokių rezultatų
                </p>
            </field>
            <field name="robo_menu" ref="menu_robo_stock"/>
            <field name="header" ref="robo_stock_header_sale"/>
            <field name="with_settings">True</field>
        </record>
        <record model="ir.actions.act_window" id="new_open_robo_sale_orders">
            <field name="name">Pardavimai iš sandėlio</field>
            <field name="res_model">sale.order</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">current</field>
            <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'form', 'view_id': ref('robo_sale_order_form')})]"/>
            <field name="robo_help" type="html">
                <p class="oe_view_robo_nocontent_search">
                    Ši jūsų užklausa negrąžino jokių rezultatų
                </p>
            </field>
            <field name="robo_menu" ref="menu_robo_stock"/>
            <field name="header" ref="robo_stock_header_sale"/>
        </record>
        <menuitem id="menu_robo_stock_sale_order"
                  parent="robo_stock.menu_robo_stock"
                  name="Pardavimai iš sandėlio"
                  sequence="1"
                  action="robo_stock.open_robo_sale_orders"
                  groups="robo_stock.robo_stock_extended"
                  robo_front="True"
                  force_web_icon="icon-exit-right,none,none"
                  searchable="True"
                  tags="pardavimai,iš,sandėlio"
        />


        <record model="ir.ui.view" id="robo_purchase_order_tree">
            <field name="name">robo.purchase.order.tree</field>
            <field name="model">purchase.order</field>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <tree string="Pirkimai į sandėlį" import="0" create="0" decoration-bf="message_unread==True"
                      decoration-muted="state=='draft'" decoration-info="state == 'purchase'"
                      decoration-warning="state in ('to approve','confirmed')" decoration-success="state == 'done'">
                    <field name="message_unread" invisible="1" help=""/>
                    <field name="name" string="Numeris" help=""/>
                    <field name="date_order" string="Užsakymo data" help=""/>
                    <field name="partner_id" string="Tiekėjas" help=""/>
                    <field name="company_id" groups="base.group_multi_company" options="{'no_create': True}"
                           invisible="1" help=""/>
                    <field name="date_planned" invisible="1"
                           string="Suplanuota data" help=""/>
                    <field name="amount_untaxed" sum="Suma be PVM" string="Suma be PVM" widget="monetary" help=""/>
                    <field name="amount_total" sum="Suma su PVM" string="Suma su PVM" widget="monetary" help=""/>
                    <field name="currency_id" invisible="1" help=""/>
                    <field name="invoice_status" invisible="not context.get('show_purchase', False)" help=""
                           string="Pajamavimo statusas"/>
                    <field name="state" string="Būsena" help=""/>
                    <field name="products_inside" invisible="1"/>
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="robo_purchase_order_form">
            <field name="name">robo.purchase.order.form</field>
            <field name="model">purchase.order</field>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <form class="robo_stock" string="Pirkimo užsakymas">
                    <header>
                        <!--<button name="action_rfq_send" states="draft" string="Send RFQ by Email" type="object"-->
                        <!--context="{'send_rfq':True}" class="oe_highlight"-->
                        <!--/>-->
                        <!--<button name="action_rfq_send" states="sent" string="Re-Send RFQ by Email" type="object"-->
                        <!--context="{'send_rfq':True}" />-->
                        <!--<button name="print_quotation" string="Print RFQ" type="object" states="draft"-->
                        <!--class="oe_highlight" />-->
                        <!--<button name="print_quotation" string="Print RFQ" type="object" states="sent"-->
                        <!--/>-->
                        <button name="button_confirm" type="object" states="draft" string="Patvirtinti užsakymą" help=""
                                id="draft_confirm" />
                        <button name="button_confirm" type="object" states="sent" string="Patvirtinti užsakymą"
                                class="oe_highlight" id="bid_confirm" help=""
                                />
                        <button name="button_approve" type="object" states="to approve"
                                string="Patvirtinti užsakymą" help=""
                                class="oe_highlight" />
                        <!--<button name="action_rfq_send" states="purchase" string="Send PO by Email" type="object"-->
                        <!--context="{'send_rfq':False}"-->
                        <!--/>-->
                        <button name="action_view_picking_robo" string="Važtaraščiai" class="oe_highlight" type="object"
                                help=""
                                attrs="{'invisible': ['|', '|' , ('is_shipped', '=', True), ('state','not in', ('purchase','done')), ('picking_count', '=', 0)]}"
                                />
                        <button name="button_draft" states="cancel" string="Atstatyti į juodraštį" type="object"
                                 help=""/>
                        <button name="button_cancel" states="draft,to approve,sent,purchase" string="Atšaukti"
                                type="object" help=""
                                />
                        <button name="button_done" type="object" string="Užrakinti" states="purchase" help=""
                                />
                        <button name="button_unlock" type="object" string="Atrakinti" states="done" help=""
                                />
                        <field name="state" widget="statusbar" statusbar_visible="draft,purchase,done" readonly="1"
                               on_change="1"  help=""/>
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button type="object" name="action_view_picking_robo" class="oe_stat_button" icon="fa-truck"
                                    help=""
                                    attrs="{'invisible':[('state', 'in', ('draft','sent','to approve')),
                                    ('picking_count','=',0)]}"
                                    >
                                <field name="picking_count" widget="statinfo" string="Siunta"
                                       help="Važtaraščiai" />
                            </button>
                            <button type="object" name="action_view_invoice_robo" class="oe_stat_button"
                                    icon="fa-pencil-square-o" help=""
                                    context="{'default_reference': partner_ref, 'default_currency_id': currency_id}"
                                    attrs="{'invisible':[('state', 'in', ('draft','sent','to approve')),
                                    ('invoice_count', '=', 0)]}">
                                <field name="invoice_count" widget="statinfo" string="Sąskaitos"
                                        help=""/>
                            </button>
                        </div>
                        <div class="oe_title">
                            <label string="Pirkimas į sandėlį " help=""
                                   attrs="{'invisible': [('state','not in',('draft','sent','bid'))]}"
                                   />
                            <label string="Pirkimas į sandėlį " help=""
                                   attrs="{'invisible': [('state','in',('draft','sent','bid'))]}"
                                   />
                            <h1>
                                <field name="name" readonly="1" help=""
                                       />
                            </h1>
                        </div>
                        <group>
                            <group>
                                <field name="partner_id" string="Tiekėjas" help=""
                                       context="{'search_default_supplier':1, 'default_supplier':1, 'default_customer':0, 'form_view_ref': 'robo.new_clients_customer_form'}"
                                       domain="[('supplier','=',True)]" on_change="1" can_create="true" can_write="true"/>
                                <field name="partner_ref" help=""
                                       />
                                <field name="currency_id" on_change="1" can_create="true" can_write="true"
                                       options="{'no_create': 1, 'no_open': 1}" string="Valiuta" help=""/>
                                <field name="is_shipped" invisible="1" help=""/>
                            </group>
                            <group>
                                <field name="date_order" on_change="1" string="Užsakymo data" help=""
                                       context="{'date': date_order, 'vat_date_test': True}"
                                />
                                <field name="origin" attrs="{'invisible': [('origin','=',False)]}"
                                       string="Susijęs dokumentas" help=""
                                       />
                                <field name="company_id" options="{'no_create': True, 'no_open': True}" on_change="1"
                                       can_create="true" help=""
                                       can_write="true" invisible="1"/>
                                <field name="date_planned" string="Suplanuota data" help=""
                                       attrs="{'readonly': [('state', 'not in', ('draft', 'sent'))]}" invisible="1"/>
                                <field name="location_dest_id" domain="[('usage','=','internal')]" on_change="1"
                                       string="Pristatymo vieta" help=""
                                       can_create="true" can_write="true" options="{'no_create': 1, 'no_open': 1}"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Produktai">
                                <field class="order_lines" name="order_line" mode="tree,kanban"
                                       attrs="{'readonly': [('state', 'in', ('done', 'cancel'))]}"
                                       context="{'default_location_dest_id': location_dest_id}"
                                       options="{'always_reload': True}">
                                    <tree string="Užsakymo eilutės" editable="bottom" class="robo_stock_edit">
                                        <field name="state" invisible="1" help=""/>
                                        <field name="sequence" widget="handle" help=""/>
                                        <field name="product_id" string="Produktas"
                                               help=""
                                               attrs="{'readonly': [('state', 'in', ('purchase', 'to approve','done', 'cancel'))]}"
                                               context="{'form_view_ref': 'robo_stock.robo_stock_product_form', 'partner_id':parent.partner_id,
                                               'quantity':product_qty,'uom':product_uom, 'company_id': parent.company_id,
                                               'date': parent.date_order, 'vat_date_test': True,
                                               'default_type': 'product', 'default_categ_id': %(l10n_lt.product_category_1)d}"/>
                                        <field name="name" string="Aprašymas" help=""/>
                                        <field name="date_planned" string="Suplanuota data" help=""/>
                                        <field name="location_dest_id" domain="[('usage','=','internal')]"
                                               options="{'no_create':True, 'no_open':True}"
                                               attrs="{'readonly': [('state', 'in', ['cancel', 'purchase', 'to approve', 'done', 'sent'])]}"/>
                                        <field name="company_id" groups="base.group_multi_company" help=""
                                               options="{'no_create': True, 'no_open': True}" invisible="1"/>
                                        <field name="account_analytic_id" options="{'no_create': 1, 'no_open': 1}"
                                               string="Analitinė sąskaita" help=""
                                               context="{'default_partner_id':parent.partner_id}"
                                               groups="purchase.group_analytic_accounting"/>
                                        <field name="product_qty" string="Kiekis" help=""/>
                                        <field name="qty_received" string="Pristatytas kiekis" help=""
                                               invisible="not context.get('show_purchase', False)"/>
                                        <field name="qty_invoiced" string="Pajamuotas kiekis" help=""
                                               invisible="not context.get('show_purchase', False)"/>
                                        <field name="product_uom_categ_id" invisible="1"/>
                                        <field name="product_uom" string="Matavimo vienetai" groups="product.group_uom"
                                               domain="[('category_id','=', product_uom_categ_id)]"
                                               options="{'no_create': 1, 'no_open': 1}" help=""
                                               attrs="{'readonly': [('state', 'in', ('purchase', 'done', 'cancel'))]}"/>
                                        <field name="price_unit" string="Vieneto kaina" help=""/>
                                        <field name="taxes_id" widget="many2many_tags" string="Mokesčiai"
                                               options="{'no_create': True, 'no_open': True}"
                                               domain="[('type_tax_use','=','purchase'),('price_include', '=', False)]" help=""
                                               context="{'date': parent.date_order, 'vat_date_test': True, 'default_type_tax_use': 'purchase'}"/>
                                        <field name="price_subtotal" widget="monetary" string="Suma be PVM" help=""/>
                                    </tree>
                                    <kanban class="o_kanban_mobile">
                                        <field name="product_id"/>
                                        <field name="product_qty"/>
                                        <field name="product_uom" groups="product.group_uom"/>
                                        <field name="price_subtotal"/>
                                        <templates>
                                            <t t-name="kanban-box">
                                                <div t-attf-class="oe_kanban_card oe_kanban_global_click">
                                                    <div class="row">
                                                        <div class="col-xs-12">
                                                            <strong>
                                                                <span>
                                                                    <t t-esc="record.product_id.value"/>
                                                                </span>
                                                            </strong>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-xs-8 text-muted">
                                                            <span>
                                                                <t t-esc="record.product_qty.value"/>
                                                                <t t-esc="record.product_uom.value"/>
                                                            </span>
                                                        </div>
                                                        <div class="col-xs-4 text-muted">
                                                            <span class="pull-right text-right">
                                                                <t t-esc="record.price_subtotal.value"/>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </t>
                                        </templates>
                                    </kanban>
                                    <form string="Užsakymo eilutės">
                                        <sheet>
                                            <group>
                                                <group>
                                                    <field name="product_id"
                                                           context="{'partner_id': parent.partner_id, 'form_view_ref': 'robo_stock.robo_stock_product_form'}"
                                                           string="Produktas" help=""/>
                                                    <label for="product_qty" string="Kiekis"/>
                                                    <div>
                                                        <field name="product_qty" class="oe_inline" help=""/>
                                                        <span class="oe_inline"> </span>
                                                        <field name="product_uom" groups="product.group_uom"
                                                               string="Matavimo vienetai"
                                                               class="oe_inline" help=""
                                                               options="{'no_create': 1, 'no_open': 1}"/>
                                                    </div>
                                                    <field name="price_unit" string="Vieneto kaina" help=""/>
                                                </group>
                                                <group>
                                                    <field name="taxes_id" widget="many2many_tags" string="Mokesčiai"
                                                           options="{'no_create': True, 'no_open': True}"
                                                           domain="[('type_tax_use', '=', 'purchase')]" help=""/>
                                                    <field name="date_planned" widget="date" string="Suplanuota data"
                                                           help=""/>
                                                    <field name="account_analytic_id" colspan="2" help=""
                                                           options="{'no_create': 1, 'no_open': 1}"
                                                           groups="purchase.group_analytic_accounting"
                                                           string="Analitinė sąskaita"/>
                                                    <field name="company_id" groups="base.group_multi_company"
                                                           options="{'no_create': True, 'no_open': True}" help=""
                                                           invisible="1"/>
                                                </group>
                                            </group>
                                            <notebook groups="base.group_no_one">
                                                <page string="Aprašymas">
                                                    <field name="name" help=""/>
                                                </page>
                                                <page string="Sąskaitos ir važtaraščiai">
                                                    <field name="invoice_lines"/>
                                                    <field name="move_ids"/>
                                                </page>
                                            </notebook>
                                        </sheet>
                                    </form>
                                </field>
                                <group class="oe_subtotal_footer oe_right">
                                    <field name="amount_untaxed" widget="monetary" string="Suma be PVM" help=""
                                           options="{'currency_field': 'currency_id'}" />
                                    <field name="amount_tax" widget="monetary" string="PVM" help=""
                                           options="{'currency_field': 'currency_id'}" />
                                    <div class="oe_subtotal_footer_separator oe_inline">
                                        <label for="amount_total" string="Suma su PVM"/>
                                    </div>
                                    <field name="amount_total" nolabel="1" class="oe_subtotal_footer_separator" help=""
                                           widget="monetary" options="{'currency_field': 'currency_id'}" on_change="1"
                                           />
                                    <field name="show_signed" invisible="1" help=""
                                           />
                                    <field name="amount_total_signed" help="" string="Suma su PVM (EUR)"
                                           attrs="{'invisible': [('show_signed','=',False)]}"
                                           />
                                </group>
                                <field name="notes" class="oe_inline" help=""
                                       placeholder="Čia galima suvesti užsakymo komentarus."
                                       />
                                <div class="oe_clear"/>
                            </page>
                            <page string="Kita">
                                <group>
                                    <group>
                                        <!--<label for="date_planned"/>-->
                                        <!--<div>-->
                                        <!--<field name="date_planned" required="1"-->
                                        <!--attrs="{'readonly': [('state', 'not in', ('draft', 'sent'))]}"-->
                                        <!--<button name="action_set_date_planned" type="object" states="draft,sent"-->
                                        <!--string="Set date to all order lines"-->
                                        <!--help="This changes the scheduled date of all order lines to the given date"-->
                                        <!--class="fa fa-calendar o_icon_button oe_edit_only"-->
                                        <!--</div>-->
                                        <field name="picking_type_id" domain="[('code','=','incoming')]"
                                               options="{'no_create': True, 'no_open': True}" invisible="1"
                                               on_change="1" help=""
                                               can_create="true" can_write="true"
                                               />
                                        <field name="dest_address_id" can_create="true" can_write="true" invisible="1"
                                               help=""
                                               />
                                        <field name="default_location_dest_id_usage" invisible="1" help=""
                                               />
                                        <field name="incoterm_id" can_create="true" can_write="true" widget="selection"
                                               help=""
                                               />
                                    </group>
                                    <group>
                                        <field name="invoice_status"  help=""
                                               string="Pajamavimo statusas"/>
                                        <field name="payment_term_id" options="{'no_open': True, 'no_create': True}"
                                               help=""
                                               attrs="{'readonly': ['|', ('invoice_status','=', 'invoiced'), ('state', '=', 'done')]}"
                                               can_create="true" can_write="true" invisible="1"
                                               />
                                        <field name="fiscal_position_id" string="Mokestinė aplinka" help=""
                                               attrs="{'readonly': ['|', ('invoice_status','=', 'invoiced'), ('state', '=', 'done')]}"
                                               can_create="true" can_write="true"
                                               options="{'no_create': True, 'no_open': True}"
                                               />
                                        <field name="date_approve"  help=""
                                               string="Patvirtinimo data"/>
                                    </group>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_ids" widget="robo_mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        <record model="ir.actions.act_window" id="open_robo_purchase_orders">
            <field name="name">Pirkimai į sandėlį</field>
            <field name="res_model">purchase.order</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree_robo,form,kanban</field>
            <field name="target">current</field>
            <field name="view_id" ref="robo_purchase_order_tree"/>
            <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree_robo', 'view_id': ref('robo_purchase_order_tree')}),
                (0, 0, {'view_mode': 'kanban', 'view_id': ref('purchase.view_purchase_order_kanban')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('robo_purchase_order_form')})]"/>
            <field name="robo_help" type="html">
                <p class="oe_view_robo_nocontent_search">
                    Ši jūsų užklausa negrąžino jokių rezultatų
                </p>
            </field>
            <field name="robo_menu" ref="menu_robo_stock"/>
            <field name="header" ref="robo_stock_header_purchase"/>
            <field name="with_settings">True</field>
        </record>
        <menuitem id="menu_robo_stock_purchase_order"
                  parent="robo_stock.menu_robo_stock"
                  name="Pirkimai į sandėlį"
                  sequence="2"
                  action="open_robo_purchase_orders"
                  groups="robo_stock.robo_stock_extended"
                  robo_front="True"
                  force_web_icon="icon-enter-right,none,none"
                  searchable="True"
                  tags="pirkimai,į,sandėlį"
        />
        <record model="ir.actions.act_window" id="new_open_robo_purchase_orders">
            <field name="name">Pirkimai į sandėlį</field>
            <field name="res_model">purchase.order</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">current</field>
            <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'form', 'view_id': ref('robo_purchase_order_form')})]"/>
            <field name="robo_help" type="html">
                <p class="oe_view_robo_nocontent_search">
                    Ši jūsų užklausa negrąžino jokių rezultatų
                </p>
            </field>
            <field name="robo_menu" ref="menu_robo_stock"/>
            <field name="header" ref="robo_stock_header_purchase"/>
            <field name="context" eval="{
                'show_purchase': True,
                'search_add_custom': False,
                }"/>
        </record>


        <record model="ir.ui.view" id="robo_stock_product_tree">
            <field name="name">robo.stock.product.tree</field>
            <field name="model">product.template</field>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <tree string="Produktai" import="0" create="0">
                    <field name="sequence" widget="handle"/>
                    <field name="default_code" string="Vidinis numeris"/>
                    <field name="name" string="Pavadinimas"/>
                    <field name="qty_available" string="Kiekis sandėlyje"/>
                    <field name="list_price" string="Pardavimo kaina"/>
                    <field name="avg_cost" string="Vid. savikaina"/>
                    <field name="latest_price"/>
                    <field name="categ_id" string="Vidinė kategorija" options="{'no_open': True, 'no_create': True}"/>
                    <field name="type" string="Produkto tipas" invisible="1"/>
                    <field name="uom_id" string="Matavimo vienetai" options="{'no_open': True, 'no_create': True}"
                           groups="product.group_uom"/>
                    <field name="active" invisible="1"/>
                </tree>
            </field>
        </record>

        <record id="multi_toggle_active_product_action" model="ir.actions.server">
            <field name="name">Archyvuoti/Išarchyvuoti</field>
            <field name="model_id" ref="robo_stock.model_product_template"/>
            <field name="robo_front_view_ids" eval="[(6, 0, [ref('robo_stock.robo_stock_product_tree')])]"/>
            <field name="code">action = object.browse(context.get('active_ids', False)).toggle_active()</field>
            <field name="robo_front" eval="1"/>
        </record>
        <function name="create_multi_toggle_active_product_action" model="product.template"/>

        <record model="ir.ui.view" id="robo_stock_product_product_tree">
            <field name="name">robo.stock.product.product.tree</field>
            <field name="model">product.product</field>
            <field name="robo_front">True</field>
            <field name="inherit_id" ref="product.product_product_tree_view"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='lst_price']" position="before">
                    <field name="avg_cost" string="Vid. savikaina"/>
                </xpath>
            </field>
        </record>
        <record model="ir.ui.view" id="robo_stock_quant_tree">
            <field name="name">robo.stock.quant.tree</field>
            <field name="model">stock.quant</field>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <tree string="Turimas kiekis" create="0" delete="0">
                    <field name="product_id" string="Produktas"/>
                    <field name="qty" string="Kiekis" sum="Kiekis"/>
                    <field name="product_uom_id" string="Matavimo vienetai" groups="product.group_uom"/>
                    <field name="location_id" string="Vieta"/>
                    <field name="owner_id" string="Savininkas" groups="stock.group_tracking_owner"/>
                    <field name="supplier_id"/>
                    <field name="partner_id"/>
                    <field name="lot_id" string="SN" groups="stock.group_production_lot"/>
                    <field name="package_id" string="Pakuotė" groups="stock.group_tracking_lot"/>
                    <field name="packaging_type_id" string="Pakuotės tipas" invisible="1"/>
                    <field name="in_date" string="Gavimo data"/>
                    <field name="cost" string="Vid. savikaina" digits="(5,5)"/>
                    <field name="inventory_value" string="Atsargų vertė" sum="Atsargų vertė"/>
                    <field name="reservation_id" string="Rezervacijos numeris" invisible="1"/>
                    <field name="propagated_from_id" string="Atskilęs nuo" invisible="1"/>
                    <field name="company_id" string="Kompanija" groups="base.group_multi_company"/>
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="robo_stock_quant_form">
            <field name="name">robo.stock.quant.form</field>
            <field name="model">stock.quant</field>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <form string="" create="false" edit="false" delete="false">
                    <sheet>
                        <group>
                            <group>
                                <field name="product_id" options="{'no_open': True, 'no_create': True}"/>
                                <field name="qty"/>
                                <field name="product_uom_id" options="{'no_open': True, 'no_create': True}" groups="product.group_uom"/>
                                <field name="lot_id" options="{'no_create': True}" groups="stock.group_production_lot" context="{'form_view_ref': 'robo_stock.view_production_lot_form_front'}"/>
                                <field name="package_id" options="{'no_open': True, 'no_create': True}" groups="stock.group_tracking_lot"/>
                                <field name="location_id" options="{'no_open': True, 'no_create': True}"/>
                                <field name="owner_id" options="{'no_open': True, 'no_create': True}" string="Savininkas" groups="stock.group_tracking_owner"/>
                                <field name="supplier_id"/>
                                <field name="partner_id"/>
                            </group>
                            <group>
                                <field name="in_date"/>
                                <field name="reservation_id" options="{'no_open': True, 'no_create': True}"/>
                                <field name="propagated_from_id" options="{'no_open': True, 'no_create': True}"/>
                                <field name="inventory_value"/>
                            </group>
                        </group>
                        <group>
                            <field name="history_ids" string="Judėjimų istorija">
                                <tree readonly="1" default_order="date">
                                    <field name="picking_id" string="Važtaraštis"/>
                                    <field name="product_uom_qty"/>
                                    <field name="date"/>
                                    <field name="location_id" groups="stock.group_stock_multi_locations" string="Pakrovimo vieta"/>
                                    <field name="location_dest_id" groups="stock.group_stock_multi_locations" string="Pristatymo vieta"/>
                                    <field name="state" invisible="1"/>
                                </tree>
                            </field>
                            <field name="valuation_adjustment_ids" string="Savikainos koregavimai" groups="stock.group_stock_manager">
                                <tree>
                                    <field name="name"/>
                                    <field name="quantity"/>
                                    <field name="additional_landed_cost"/>
                                    <field name="former_cost_per_unit"/>
                                    <field name="unit_cost_change" string="Kainos pokytis"/>
                                </tree>
                            </field>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record model="ir.actions.act_window" id="product_open_quants">
            <field name="name">Turimas kiekis</field>
            <field name="context">{'search_default_internal_loc': 1, 'search_default_locationgroup':1}</field>
            <field name="domain">[('product_id', '=', active_id)]</field>
            <field name="res_model">stock.quant</field>
            <field name="view_id" ref="robo_stock_quant_tree"/>
            <field name="view_mode">pivot</field>
            <field name="robo_menu" ref="menu_robo_stock"/>
        </record>
        <record id="stock.view_stock_level_forecast_filter" model="ir.ui.view">
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <search string="Atsargų kiekio prognozė">
                    <field name="product_id"/>
                    <field name="product_tmpl_id"/>
                    <field name="date"/>
                    <group expand="1" string="Grupuoti pagal">
                        <filter string="Analizė" name="pivot_by"
                                context="{'pivot_row_groupby': ['product_id'], 'pivot_column_groupby': ['date:day'],'pivot_measures': ['quantity']}"/>
                    </group>
                </search>
            </field>
        </record>
        <record model="ir.ui.view" id="product_template_view_back_extend">
            <field name="name">product.template.view.back.extend</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="product.product_template_only_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//header" position="after">
                    <br/>
                    <div groups="stock_extend.group_robo_stock">
                    <field name="nbr_of_attachments" invisible="1"/>
                    <field name="user_attachment_ids" invisible="1"/>
                    <field name="attachment_drop_lock" invisible="1"/>
                    <field name="unique_wizard_id" invisible="1"/>
                    <widget type="robo_attach_files"/>
                    </div>
                </xpath>
                <xpath expr="//field[@name='categ_id']" position="after">
                    <label for="supplier_id" string="Supplier"/>
                    <div>
                        <field name="supplier_id" nolabel="1" class="oe_inline"/>
                        <button name="load_supplier" type="object" class="oe_edit_only" icon="fa-refresh"
                                help="Set supplier"/>
                    </div>
                </xpath>
                <xpath expr="//page[@name='sales']" position="before">
                    <page groups="robo_stock.group_robo_product_mapping" string="Product Mapping" name="product_mapping">
                                <field name="mapping_ids">
                                    <tree editable="top">
                                        <field name="partner_id" required="1"/>
                                        <field name="mapped_product_id" required="1"
                                               context="{'form_view_ref': 'robo_stock.robo_stock_product_form'}"
                                               options="{'no_create':1}"/>
                                        <field name="uom_to_id" options="{'no_create':1, 'no_open':1}"/>
                                        <field name="ratio" required="1"/>
                                    </tree>
                                    <form>
                                        <field name="partner_id" required="1"/>
                                        <field name="mapped_product_id" required="1"
                                               context="{'form_view_ref': 'robo_stock.robo_stock_product_form'}"
                                               options="{'no_create':1}"/>
                                        <field name="uom_to_id" options="{'no_create':1, 'no_open':1}"/>
                                        <field name="ratio" required="1"/>
                                    </form>
                                </field>
                            </page>
                </xpath>
            </field>
        </record>
        <record model="ir.ui.view" id="robo_stock_product_form">
            <field name="name">robo.stock.product.form</field>
            <field name="model">product.template</field>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <form string="Produktas" name="product_template">
                    <br/>
                    <div groups="stock_extend.group_robo_stock">
                    <field name="nbr_of_attachments" invisible="1"/>
                    <field name="user_attachment_ids" invisible="1"/>
                    <field name="attachment_drop_lock" invisible="1"/>
                    <field name="unique_wizard_id" invisible="1"/>
                    <widget type="robo_attach_files"/>
                    </div>
                    <sheet>
                        <field name="id" invisible="True" />
                        <div class="oe_button_box" name="button_box">
                            <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-archive">
                                <field name="active" widget="boolean_button" options="{'terminology': 'archive'}"
                                       />
                            </button>
                            <button type="object" name="action_open_quants_robo"
                                    attrs="{'invisible':[('type', '!=', 'product')]}" class="oe_stat_button"
                                    icon="fa-building-o" >
                                <field name="qty_available" widget="statinfo" string="Turimas kiekis"
                                       />
                            </button>
                            <button type="object"
                                    name="action_open_forecast_robo"
                                    attrs="{'invisible':[('type', '!=', 'product')]}"
                                    class="oe_stat_button" icon="fa-building-o" groups="robo_stock.robo_stock_extended">
                                <div class="o_form_field">
                                    <span class="o_stat_value">
                                        <field name="virtual_available" widget="statinfo" string=""/>
                                        <span attrs="{'invisible':[('outgoing_qty', '=', 0),('incoming_qty','=',0)]}"
                                              groups="base.group_no_one">
                                            (-<field name="outgoing_qty" widget="integer"/>+<field name="incoming_qty"
                                                                                                   widget="integer"/>)
                                        </span>
                                    </span>
                                    <span class="o_stat_text">Prognozė</span>
                                </div>
                            </button>
                            <button class="oe_stat_button" name="open_done_moves" type="object"
                                    attrs="{'invisible':[('type', 'not in', ['product'])]}" icon="fa-list-alt"
                                    string="Atsargų judėjimas" groups="stock.group_stock_manager">
                            </button>
                            <button class="oe_stat_button" name="open_reserved_moves" type="object"
                                    attrs="{'invisible':[('type', 'not in', ['product'])]}" icon="fa-arrows-v"
                                    string="Rezervacijos" groups="stock.group_stock_manager">
                                <!--<field string="Rezerv" name="mo_count" widget="statinfo"/>-->
                            </button>
                            <button type="object" name="action_open_product_variants"
                                    attrs="{'invisible':[('type', '!=', 'product')]}"
                                    class="oe_stat_button"
                                    groups="product.group_product_variant"
                                    icon="fa-bars">
                                <field name="rel_product_variant_count" widget="statinfo" string="Produkto variantai"/>
                            </button>
                        </div>
                        <field name="image_medium" widget="image" class="oe_avatar" />
                        <div class="oe_title">
                            <label class="oe_edit_only" for="name" string="Produkto pavadinimas"/>
                            <h1>
                                <field name="name" placeholder="Produkto pavadinimas" />
                            </h1>
                            <div name="options">
                                <div>
                                    <field name="sale_ok" help=""/>
                                    <label for="sale_ok"/>
                                </div>
                                <div>
                                    <field name="purchase_ok" help=""/>
                                    <label for="purchase_ok"/>
                                </div>
                                <div invisible="1">
                                    <field name="can_be_expensed" help=""/>
                                    <label for="can_be_expensed" style="max-width: 150px"/>
                                </div>
                            </div>
                        </div>
                        <notebook>
                            <page string="Bendra informacija" name="general_information">
                                <group name="general_information_group">
                                    <group name="group_general">
                                        <field name="product_variant_count" invisible="1" string="Variantų kiekis" help=""/>
                                        <field name="type" on_change="1" help=""/>
                                        <field name="acc_product_type"/>
                                        <field name="default_code" help=""
                                               attrs="{'invisible': [('product_variant_count', '&gt;', 1)]}"
                                               />
                                        <field name="barcode" groups="robo_stock.robo_stock_extended" help=""
                                               attrs="{'invisible': [('product_variant_count', '&gt;', 1)]}"
                                               />
                                        <field name="intrastat_id" help=""
                                               groups="robo_stock.group_show_intrastat_fields"
                                               options="{'no_create': True, 'no_open': True}"/>
                                        <field name="intrastat_description"
                                               groups="robo_stock.group_show_intrastat_fields"/>
                                        <field name="categ_id" string="Vidinė kategorija" on_change="1"
                                               options="{'no_create': True, 'no_open': True}" help=""
                                               can_create="true" can_write="true"
                                               domain="[('name', '!=', 'Kita'),'|',('parent_id', '=', False),('parent_id.name', '!=', 'Kita')]"
                                               />
                                        <field name="kilmes_salis" options="{'no_create': True, 'no_open': True}"
                                               groups="robo_stock.group_show_intrastat_fields" help=""/>
                                        <field name="landed_cost_ok" class="oe_inline" help=""
                                               groups="robo_stock.group_robo_landed_costs"
                                               string="Naudojamas savikainos koregavimui"
                                               attrs="{'invisible':[('type', 'not in', ['product', 'consu', 'service'])]}"
                                               />
                                        <field name="split_method" string="Skaidymo metodas" help=""
                                               groups="robo_stock.robo_stock_extended"
                                               attrs="{'invisible':['|', ('landed_cost_ok', '=' ,False), ('type', 'not in', ['product', 'consu', 'service'])]}"
                                               />
                                        <label for="supplier_id" string="Supplier"/>
                                        <div>
                                            <field name="supplier_id" nolabel="1" class="oe_inline"/>
                                            <button name="load_supplier" type="object" class="oe_edit_only"
                                                    icon="fa-refresh" help="Set supplier"/>
                                        </div>
                                    </group>
                                    <group name="group_standard_price">
                                        <field name="list_price" widget="monetary" help=""
                                               options="{'currency_field': 'currency_id'}" />
                                        <field name="valuation" invisible="1" readonly="1" help=""
                                               />
                                        <field name="cost_method" invisible="1" readonly="1" help=""
                                               />
                                        <field name="property_cost_method" invisible="1" on_change="1" help=""
                                               />
                                        <label for="standard_price"/>
                                        <div name="standard_price_uom">
                                            <field name="standard_price" help=""
                                                   attrs="{'readonly':['&amp;', ('valuation','=','real_time'), ('cost_method', 'in', ['standard', 'average'])]}"
                                                   class="oe_inline" widget="monetary"
                                                   options="{'currency_field': 'currency_id'}"
                                                   />
                                        </div>
                                        <field name="avg_cost_float" help="" widget="monetary"/>
                                        <field name="latest_price" help=""/>
                                        <field name="company_id" options="{'no_create': True, 'no_open': True}"
                                               can_create="true" help=""
                                               can_write="true" invisible="1" />
                                        <field name="uom_id" options="{'no_create': True, 'no_open': True}"
                                               on_change="1" help=""
                                               can_create="true" can_write="true"
                                               groups="product.group_uom"
                                               />
                                        <field name="uom_po_id" options="{'no_create': True, 'no_open': True}"
                                               can_create="true" help=""
                                               can_write="true"
                                               groups="product.group_uom"
                                               />
                                        <field name="currency_id" invisible="1" can_create="true" can_write="true" help=""
                                               />
                                        <label for="weight" groups="robo_stock.robo_stock_extended"
                                               attrs="{'invisible':['|', ('type', 'not in', ['product', 'consu']), ('product_variant_count', '&gt;', 1)]}"
                                               />
                                        <div class="o_row" name="weight"
                                             attrs="{'invisible':['|', ('type', 'not in', ['product', 'consu']), ('product_variant_count', '&gt;', 1)]}"
                                             >
                                            <field name="weight" help="" groups="robo_stock.robo_stock_extended"/>
                                        </div>
                                        <field name="tracking" widget="radio"
                                               help="" groups="robo_stock.group_robo_serial_numbers"/>
                                        <label for="volume"
                                               attrs="{'invisible':['|', ('type', 'not in', ['product', 'consu']), ('product_variant_count', '&gt;', 1)]}"
                                               />
                                        <div class="o_row" name="volume"
                                             attrs="{'invisible':['|', ('type', 'not in', ['product', 'consu']), ('product_variant_count', '&gt;', 1)]}"
                                             >
                                            <field name="volume" string="Tūris" help=""/>
                                        </div>
                                        <field name="purchase_method" string="Pirkimo politika" widget="radio"
                                                help="" groups="robo_stock.robo_stock_extended"/>
                                        <field name="invoice_policy" string="Pardavimo politika" widget="radio"
                                                help="" groups="robo_stock.robo_stock_extended"/>
                                    </group>
                                </group>
                            </page>
                            <page string="Atsargos"
                                  groups="robo_basic.group_robo_premium_accountant,stock.group_adv_location">
                                <group name="inventory">
                                    <group colspan="4">
                                        <field name="route_ids" widget="many2many_checkboxes" help=""
                                               attrs="{'invisible':[('type', 'in', ['service', 'digital'])]}"
                                               can_create="true" can_write="true"
                                               />
                                        <field name="route_from_categ_ids" widget="many2many_tags" readonly="1"
                                               attrs="{'invisible':[('route_from_categ_ids', '=', [])]}" help=""
                                               can_create="true" can_write="true"
                                               />
                                    </group>
                                    <group name="stock_property" colspan="4">>
                                        <field name="property_stock_procurement" domain="[('usage','=','procurement')]"
                                               can_create="true" can_write="true" help=""/>
                                        <field name="property_stock_production" domain="[('usage','=','production')]"
                                               can_create="true" can_write="true" help=""/>
                                        <field name="property_stock_inventory" domain="[('usage','=','inventory')]"
                                               can_create="true" can_write="true" help=""/>
                                    </group>
                                </group>
                            </page>
                            <page groups="robo_basic.group_robo_premium_accountant" string="Pardavimai"
                                  attrs="{'invisible':[('sale_ok','=',False)]}" name="sales"
                                  >
                                <div name="pricelist_item" invisible="1" >
                                    <separator string="Kainodara"/>
                                    <field name="item_ids" nolabel="1" help=""
                                           context="{'default_base':'list_price', 'default_applied_on' :'1_product'}"
                                           />
                                </div>
                                <group name="sale">
                                    <group name="sale_condition" string="Pardavimo sąlygos">
                                        <label for="warranty" invisible="1" />
                                        <div invisible="1" >
                                            <field name="warranty" class="oe_inline" help=""/>
                                            mėnesiai

                                        </div>
                                        <label for="sale_delay"/>
                                        <div>
                                            <field name="sale_delay" attrs="{'readonly':[('sale_ok','=',False)]}"
                                                   class="oe_inline" style="vertical-align:baseline" help=""
                                                   />
                                            dienos(-ų)

                                        </div>
                                        <label for="produce_delay" attrs="{'invisible':[('type','=','service')]}"
                                               />
                                        <div attrs="{'invisible':[('type','=','service')]}"
                                             >
                                            <field name="produce_delay" class="oe_inline" help=""/>
                                            dienos(-ų)

                                        </div>
                                    </group>
                                    <group name="email_template_and_project"
                                           attrs="{'invisible':[('type', '!=', 'service')]}"
                                           />
                                </group>
                            </page>

                            <page groups="robo_basic.group_robo_supplier_info" string="Tiekėjai" name="supplier_information">
                                <field name="seller_ids" nolabel="1" widget="one2many_list" options="{'no_open': True}" context="{'default_product_tmpl_id': context.get('product_tmpl_id', active_id)}" help="">
                                    <tree string="Tiekėjai" editable="bottom" open="false">
                                        <field name="name" required="1" string="Tiekėjas" options="{'no_open': True, 'no_create': True}" help=""/>
                                        <field name="product_name" string="Produkto pavadinimas" help=""/>
                                        <field name="product_code" string="Produkto kodas" help=""/>
                                        <field name="product_uom" invisible="1" string="Tiekėjo matavimo vienetas" options="{'no_open': True, 'no_create': True}" help=""/>
                                        <field name="product_tmpl_id" string="Produktas" invisible="1" help=""/>
                                        <field name="product_id" string="Produktas" domain="[('product_tmpl_id', '=', product_tmpl_id)]" invisible="1" help=""/>
                                        <field name="min_qty" string="Minimalus pirkimo vienetas" groups="robo_stock.robo_stock_extended" help=""/>
                                        <field name="price" required="0" string="Kaina" groups="robo_stock.robo_stock_extended" help=""/>
                                        <field name="currency_id" required="0" string="Valiuta" options="{'no_open': True, 'no_create': True}" groups="robo_stock.robo_stock_extended" help=""/>
                                        <field name="date_start" string="Kainos pradžios data" groups="robo_stock.robo_stock_extended" help=""/>
                                        <field name="date_end" string="Kainos pabaigos data" groups="robo_stock.robo_stock_extended" help=""/>
                                        <field name="delay" invisible="1" string="Pristatymo terminas" help=""/>
                                    </tree>
                                    <form string="Tiekėjai" editable="bottom" open="false">
                                        <group>
                                            <field name="name" required="1" string="Tiekėjas" options="{'no_open': True, 'no_craete': True}"/>
                                            <field name="product_tmpl_id" string="Produktas" invisible="1" options="{'no_open': True, 'no_craete': True}"/>
                                            <field name="product_id" string="Produktas" domain="[('product_tmpl_id', '=', product_tmpl_id)]" invisible="1" options="{'no_open': True, 'no_craete': True}"/>
                                            <field name="product_name" string="Produkto pavadinimas"/>
                                            <field name="product_code" string="Produkto kodas"/>
                                            <field name="product_uom" invisible="1" string="Tiekėjo matavimo vienetas" options="{'no_open': True, 'no_create': True}"/>
                                            <field name="min_qty" string="Minimalus pirkimo vienetas" groups="robo_stock.robo_stock_extended"/>
                                            <field name="price" required="0" string="Kaina" groups="robo_stock.robo_stock_extended"/>
                                            <field name="currency_id" required="0" string="Valiuta" options="{'no_open': True, 'no_create': True}" groups="robo_stock.robo_stock_extended"/>
                                            <field name="date_start" string="Kainos pradžios data" groups="robo_stock.robo_stock_extended"/>
                                            <field name="date_end" string="Kainos pabaigos data" groups="robo_stock.robo_stock_extended"/>
                                            <field name="delay" invisible="1" string="Pristatymo terminas"/>
                                        </group>
                                    </form>
                            </field>
                            </page>
                            <page groups="robo_stock.group_robo_product_mapping" string="Product Mapping" name="product_mapping">
                                <field name="mapping_ids">
                                    <tree editable="top">
                                        <field name="partner_id"/>
                                        <field name="mapped_product_id" required="1"
                                               context="{'form_view_ref': 'robo_stock.robo_stock_product_form'}"
                                               options="{'no_create':1}"/>
                                        <field name="uom_to_id" options="{'no_create':1, 'no_open':1}"/>
                                        <field name="ratio" required="1"/>
                                    </tree>
                                    <form>
                                        <field name="partner_id"/>
                                        <field name="mapped_product_id" required="1"
                                               context="{'form_view_ref': 'robo_stock.robo_stock_product_form'}"
                                               options="{'no_create':1}"/>
                                        <field name="uom_to_id" options="{'no_create':1, 'no_open':1}"/>
                                        <field name="ratio" required="1"/>
                                    </form>
                                </field>
                            </page>
                            <page groups="product.group_product_variant"
                                  name="product_attributes" string="Produkto atributai">
                                <field name="attribute_line_ids" widget="one2many_list"
                                       context="{'show_attribute': False}">
                                    <tree string="Variants" editable="bottom" class="robo_tree_in_form">
                                        <field name="attribute_id"/>
                                        <field name="value_ids" widget="many2many_tags"
                                               options="{'no_create_edit': True}"
                                               domain="[('attribute_id', '=', attribute_id)]"
                                               context="{'default_attribute_id': attribute_id}"/>
                                    </tree>
                                </field>
                                    <p class="oe_grey">
                                    <strong>Įspėjimas</strong>: Pridetant arba ištrinant produkto atributus
                                        automatiškai bus pridedami arba ištrinami ir produkto variantai.
                                </p>
                            </page>
                            <page name="descriptions" string="Pastabos partneriams" groups="robo_stock.robo_stock_extended">
                                <group name="description">
                                    <separator string="Pastabos klientams" colspan="4"/>
                                    <field name="description_sale" colspan="4" nolabel="1" placeholder="Bus atvaizduojama pardavimų užsakymuose." help=""/>
                                    <separator string="Pastabos tiekėjams" colspan="4"/>
                                    <field name="description_purchase" nolabel="1" placeholder="Bus atvaizduojama pirkimų užsakymuose." colspan="4" help=""/>
                                    <separator string="Pastabos važtaraščiuose" colspan="4"/>
                                    <field name="description_picking" placeholder="Bus atvaizduojama važtaraščiuose." nolabel="1" colspan="4" help=""/>
                                </group>
                            </page>
                            <page string="Mokesčiai" name="taxes">
                                <group>
                                    <field name="taxes_id" widget="many2many_tags" can_create="false"
                                           can_write="true"  options="{'no_create': True}" help=""/>
                                    <field name="supplier_taxes_id" colspan="2" widget="many2many_tags"
                                           attrs="{'readonly':[('purchase_ok','=',0)]}" can_create="false"
                                           options="{'no_create': True}"
                                           can_write="true" help=""/>
                                </group>
                            </page>
                            <!--<page string="Tara" name="tara">-->
                            <!--<group>-->
                            <!--<field name="tara_metalas"/>-->
                            <!--<field name="tara_plastmase"/>-->
                            <!--<field name="tara_stiklas"/>-->
                            <!--<field name="tara_popierius"/>-->
                            <!--<field name="tara_medis"/>-->
                            <!--<field name="tara_pet"/>-->
                            <!--<field name="tara_kombinuota"/>-->
                            <!--<field name="tara_kita"/>-->
                            <!--</group>-->
                            <!--</page>-->
                            <page groups="robo_basic.group_robo_premium_accountant" string="Apskaita" name="invoicing">
                                <group name="properties">
                                    <group>
                                        <field name="property_account_income_id"
                                               domain="[('deprecated','=',False)]"
                                               can_create="true" can_write="true" help=""/>
                                        <field name="account_scrap" can_create="true" can_write="true" help=""/>
                                        <field name="refund_income_account_id" can_create="true" can_write="true"
                                               help=""/>
                                        <field name="refund_expense_account_id" can_create="true" can_write="true"
                                               help=""/>
                                        <field name="product_cost_account_id" can_create="true" can_write="true"
                                               help=""/>
                                        <field name="account_deferred_income_id" can_create="true" can_write="true"
                                               help=""/>
                                        <field name="account_deferred_expense_id" can_create="true" can_write="true"
                                               help=""/>
                                    </group>
                                    <group>
                                        <field name="asset_category_id" domain="[('type', '=', 'purchase')]" help=""
                                               context="{'default_type': 'purchase'}" can_create="true" can_write="true"
                                               />
                                        <field name="property_account_expense_id" domain="[('deprecated','=',False)]"
                                               attrs="{'readonly': [('purchase_ok', '=', 0)]}" can_create="true"
                                               can_write="true" help=""/>
                                        <label string="" colspan="2"/>
                                        <field name="property_account_creditor_price_difference"
                                               domain="[('deprecated','=',False)]"
                                               attrs="{'readonly':[('purchase_ok', '=', 0)]}" can_create="true"
                                               can_write="true" help=""/>
                                        <field name="skip_analytic"/>
                                    </group>
                                </group>
                                <group name="accounting">
                                    <group name="property_inventory_valuation" help=""
                                           attrs="{'invisible': [('type','=','service')]}"
                                           >
                                        <field name="property_valuation" invisible="1" on_change="1" help=""
                                               />
                                        <field name="property_stock_account_input" help=""
                                               attrs="{'invisible':[ ('valuation', '!=', 'real_time')]}"
                                               domain="[('deprecated', '=', False)]" can_create="true" can_write="true"
                                               />
                                        <field name="property_stock_account_output" help=""
                                               attrs="{'invisible':[ ('valuation', '!=', 'real_time')]}"
                                               domain="[('deprecated', '=', False)]" can_create="true" can_write="true"
                                               />
                                        <field name="stock_surplus_account_id" domain="[('deprecated', '=', False)]"/>
                                    </group>
                                </group>
                                <separator string="Sąskaitų faktūrų išrašymo politika" attrs="{'invisible': [('can_be_expensed','=',False)]}"/>
                                <group>
                                    <field name="expense_policy" widget="radio" help=""
                                           attrs="{'invisible': [('can_be_expensed','=',False)]}"
                                           />
                                    <!--<field name="track_service" widget="radio" invisible="False"-->
                                           <!--attrs="{'invisible': [('type','!=','service')]}"-->
                                           <!--/>-->
                                    <!--<field name="project_id"-->
                                    <!--attrs="{'invisible':['|', ('type','!=','service'), ('track_service', '&lt;&gt;', 'task')]}"-->
                                    <!--can_create="true" can_write="true"-->
                                    <!--/>-->
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_ids" widget="robo_mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <record id="stock.product_template_kanban_stock_view" model="ir.ui.view">
            <field name="robo_front">True</field>
        </record>
        <record model="ir.actions.act_window" id="open_robo_stock_product">
            <field name="name">Produktai</field>
            <field name="res_model">product.template</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,kanban</field>
            <field name="target">current</field>
            <field name="view_id" ref="robo_stock_product_tree"/>
            <field name="domain">[('robo_product', '=', False)]</field>
            <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree_robo', 'view_id': ref('robo_stock_product_tree')}),
                (0, 0, {'view_mode': 'kanban', 'view_id': ref('stock.product_template_kanban_stock_view')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('robo_stock_product_form')})]"/>
            <field name="robo_help" type="html">
                <p class="oe_view_robo_nocontent_search">
                    Ši jūsų užklausa negrąžino jokių rezultatų
                </p>
            </field>
            <field name="robo_menu" ref="menu_robo_stock"/>
            <field name="header" ref="robo_stock_header_product"/>
            <field name="context" eval="{
                'default_type': 'product',
                'default_purchase_method': 'purchase',
                'default_categ_id': ref('l10n_lt.product_category_1'),
                'search_add_custom': True,
                'showDuplicate': True,
                }"/>
        </record>

        <menuitem id="menu_robo_stock_products"
                  parent="robo_stock.menu_robo_stock"
                  name="Produktai"
                  sequence="4"
                  action="open_robo_stock_product"
                  groups="stock_extend.group_robo_stock"
                  robo_front="True"
                  force_web_icon="icon-box,none,none"
                  searchable="True"
                  tags="produktai,atsargos"
        />

        <record id="robo.menu_robo_products" model="ir.ui.menu">
            <field name="active" eval="False"/>
        </record>

        <record model="ir.ui.view" id="view_invoice_form">
            <field name="name">view.invoice.picking</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account.invoice_form"/>
            <field name="arch" type="xml">
                <xpath expr="//button[@name='action_invoice_open']" position="after">
                    <button name="open_picking" string="Atidaryti važtaraštį" type="object"
                            groups="base.group_user"
                            attrs="{'invisible': [('picking_id', '=', False)]}"/>
                    <button name="button_recompute_picking_done" type="object"
                            groups="robo_basic.group_robo_premium_accountant"
                            string="Perskaičiuoti prekių nurašymo statusą"/>
                </xpath>
                <xpath expr="//button[@name='action_invoice_cancel']" position="after">
                    <field name="politika_sandelio_apskaita" invisible="1"/>
                    <button name="action_invoice_cancel" type="object" string="Atšaukti (priverstinai)"
                            context="{'skip_stock': True}" groups="robo_basic.group_robo_premium_accountant"
                            attrs="{'invisible': ['|', ('politika_sandelio_apskaita', '=', 'extended')]}"/>
                </xpath>
            </field>
        </record>
        <record model="ir.ui.view" id="view_invoice_form_supplier">
            <field name="name">view.invoice.supplier.picking</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account.invoice_supplier_form"/>
            <field name="arch" type="xml">
                <xpath expr="//button[@name='action_invoice_open']" position="after">
                    <button name="open_picking" string="Atidaryti važtaraštį" type="object"
                            groups="base.group_user"
                            attrs="{'invisible': [('picking_id', '=', False)]}"/>
                    <button name="button_recompute_picking_done" type="object"
                            groups="robo_basic.group_robo_premium_accountant"
                            string="Perskaičiuoti prekių nurašymo statusą"/>
                </xpath>
                <xpath expr="//button[@name='action_cancel_paid']" position="after">
                    <field name="politika_sandelio_apskaita" invisible="1"/>
                    <button name="action_invoice_cancel" type="object" string="Atšaukti (priverstinai)"
                            context="{'skip_stock': True}" groups="robo_basic.group_robo_premium_accountant"
                            attrs="{'invisible': ['|', ('politika_sandelio_apskaita', '=', 'extended')]}"/>
                </xpath>
            </field>
        </record>

        <record id="translated_view_backorder_confirmation" model="ir.ui.view">
            <field name="name">stock_backorder_confirmation</field>
            <field name="model">stock.backorder.confirmation</field>
            <field name="robo_front">True</field>
            <field name="inherit_id" ref="stock.view_backorder_confirmation"/>
            <field name="arch" type="xml">
                <xpath expr="//form" position="replace">
                    <form string="Backorder creation">
                        <group>
                            <p>
                                Pervežtas mažesnis produktų kiekis nei buvo nurodyta.
                            </p>
                            <p class="text-muted">
                                Ar bus atvežti likę produktai? (Jei žymėsite taip, bus sukurtas papildomas važtaraštis.)
                            </p>
                        </group>
                        <footer>
                            <button name="process" string="Taip" type="object" class="oe_highlight"/>
                            <button name="process_cancel_backorder" string="Ne" type="object" class="btn-primary"/>
                            <button string="_Atšaukti" class="btn-default" special="cancel"/>
                        </footer>
                    </form>
                </xpath>
            </field>
        </record>
        <record id="translated_view_immediate_transfer" model="ir.ui.view">
            <field name="name">stock.immediate.transfer.view.form</field>
            <field name="model">stock.immediate.transfer</field>
            <field name="inherit_id" ref="stock.view_immediate_transfer"/>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <xpath expr="//form" position="replace">
                    <form string="Išsiųsti visą suplanuotą kiekį?">
                        <group>
                            <p>
                                Kadangi nenurodėte faktinio pristatyto kiekio, tai paspaudus perduoti, laikysime,
                                kad buvo pristatytas visas suplanuotas kiekis.
                            </p>
                        </group>
                        <footer>
                            <button name="process" string="Perduoti visą kiekį" type="object" class="btn-primary"/>
                            <button string="Atšaukti" class="btn-default" special="cancel"/>
                        </footer>
                    </form>
                </xpath>
            </field>
        </record>
        <record id="extend_robo_expenses_form_view" model="ir.ui.view">
            <field name="name">extend.robo.expense.form</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="robo.robo_expenses_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='invoice_line_ids']/tree/field[@name='currency_id']" position="after">
                    <field name="purchase_line_id" invisible="1"/>
                    <field name="purchase_id" invisible="1"/>
                </xpath>
                <xpath expr="//button[@name='action_invoice_cancel']" position="before">
                    <field name="picking_id" invisible="1"/>
                    <field name="show_create_picking" invisible="1"/>
                    <button name="create_picking" string="Sukurti važtaraštį" type="object"
                            class="oe_highlight"
                            groups="robo_stock.robo_stock_extended"
                            context="{'robo_header': {'fit':True}, 'invoice_id':active_id}"
                            attrs="{'invisible': ['|',('show_create_picking', '=', False),('state','not in',['open','paid','proforma','proforma2'])]}"/>
                    <button name="open_picking" string="Atidaryti važtaraščius (-į)" type="object"
                            groups="robo_stock.robo_stock_extended"
                            context="{'robo_header': {'fit':True}, 'front_view': True}"
                            attrs="{'invisible': [('picking_id', '=', False)]}"/>
                </xpath>
                <xpath expr="//button[@name='action_invoice_cancel']" position="after">
                    <field name="politika_sandelio_apskaita" invisible="1"/>
                    <button name="action_invoice_cancel" type="object" string="Atšaukti (priverstinai)"
                            context="{'skip_stock': True}" groups="robo_basic.group_robo_premium_accountant"
                            attrs="{'invisible': ['|', ('politika_sandelio_apskaita', '=', 'extended')]}"/>
                </xpath>
                <xpath expr="//div[@name='button_box']" position="inside">
                    <button name="action_view_purchase_robo" type="object" string="Pirkimas"
                            icon="fa-pencil-square-o" class="oe_stat_button" groups="robo_stock.robo_stock_extended"/>

                </xpath>
                <xpath expr="//field[@name='fiscal_position_id']" position="after">
                    <field name="required_location_id" invisible="1"
                           groups="robo_stock.group_simplified_stock_multi_locations"/>
                    <field name="location_id" string="Atsargų vieta"
                           groups="robo_stock.group_simplified_stock_multi_locations"
                           options="{'no_create': True, 'no_open': True}"
                           attrs="{'readonly': ['|', ('expense_state','not in', ['draft', 'imported'])],
                                   'required': [('required_location_id', '=', True)]}"/>
                </xpath>
                <xpath expr="//field[@name='invoice_line_ids']/tree//field[@name='name']" position="after">
                        <field name="required_location_id" invisible="1"
                               groups="robo_stock.group_simplified_stock_multi_locations"/>
                        <field name="location_id" string="Atsargų vieta"
                           attrs="{'required': [('required_location_id', '=', True)]}"
                           groups="robo_stock.group_simplified_stock_multi_locations"
                           options="{'no_create': True, 'no_open': True}"/>
                </xpath>
                <xpath expr="//form[@name='account_invoice_line']//field[@name='product_id']" position="after">
                    <field name="product_tmpl_id" string="Produktas" nolabel="1" class="oe_inline"
                           context="{'form_view_ref': 'robo_stock.robo_stock_product_form'}"/>
                </xpath>
                <xpath expr="//form[@name='account_invoice_line']//field[@name='product_id']" position="attributes">
                    <attribute name="class" add="oe_inline" separator=" "/>
                </xpath>
                <xpath expr="//header[last()]" position="after">
                    <field name="show_stock_moves_not_matching_warning" invisible="1"/>
                    <div class="alert alert-danger" role="alert" style="margin-bottom: 2px;"
                         attrs="{'invisible': [('show_stock_moves_not_matching_warning', '=', False)]}">
                            Sąskaitoje pateikti produktų kiekiai nesutampa su susijusių važtaraščių kiekiais.
                    </div>
                </xpath>
            </field>
        </record>
        <record id="extend_robo_pajamos_form_view" model="ir.ui.view">
            <field name="name">extend.robo.pajamos.form</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="robo.pajamos_form"/>
            <field name="arch" type="xml">
                <xpath expr="//button[@name='action_invoice_cancel']" position="after">
                    <field name="politika_sandelio_apskaita" invisible="1"/>
                    <button name="action_invoice_cancel" type="object" string="Atšaukti (priverstinai)"
                            context="{'skip_stock': True}" groups="robo_basic.group_robo_premium_accountant"
                            attrs="{'invisible': ['|', ('politika_sandelio_apskaita', '=', 'extended')]}"/>
                </xpath>
                <xpath expr="//field[@name='journal_id']" position="after">
                    <field name="required_location_id" invisible="1"
                           groups="robo_stock.group_simplified_stock_multi_locations"/>
                    <field name="location_id" string="Atsargų vieta"
                           groups="robo_stock.group_simplified_stock_multi_locations"
                           options="{'no_create': True, 'no_open': True}"
                           attrs="{'readonly': [('move_name','!=',False)],
                                   'required': [('required_location_id', '=', True)]}"
                    />
                </xpath>
                <xpath expr="//button[@name='action_invoice_cancel']" position="before">
                    <field name="picking_id" invisible="1"/>
                    <field name="picking_done" invisible="1"/>
                    <button name="button_recompute_picking_done" type="object"
                            class="oe_highlight" groups="robo_basic.group_robo_premium_manager"
                            string="Perskaičiuoti prekių nurašymo statusą"
                            attrs="{'invisible': ['|', ('picking_done', '=', True), ('picking_id', '=', False)]}"/>
                    <field name="show_create_picking" invisible="1"/>
                    <field name="show_do_picking_transfer" invisible="1"/>
                    <button name="create_picking" string="Sukurti važtaraštį" type="object"
                            class="oe_highlight" states="open,paid"
                            groups="robo_stock.robo_stock_extended"
                            context="{'robo_header': {'fit':True}, 'invoice_id':active_id}"
                            attrs="{'invisible': ['|', ('show_create_picking', '=', False)]}"/>
                    <button name="open_picking" string="Atidaryti važtaraščius (-į)" type="object"
                            groups="robo_stock.robo_stock_extended"
                            context="{'robo_header': {'fit':True}, 'front_view': True}"
                            attrs="{'invisible': ['|', ('picking_id', '=', False)]}"/>
                    <button name="do_picking_transfer" string="Nurašyti prekes" type="object"
                            groups="stock.group_stock_manager"
                            class="oe_highlight" states="open,paid"
                            context="{'robo_header': {'fit':True}, 'front_view': True}"
                            attrs="{'invisible': ['|', ('show_do_picking_transfer', '=', False)]}"/>
                </xpath>
                <xpath expr="//field[@name='invoice_line_ids']/tree//field[@name='name']" position="after">
                    <field name="required_location_id" invisible="1"
                           groups="robo_stock.group_simplified_stock_multi_locations"/>
                    <field name="location_id" string="Atsargų vieta"
                           groups="robo_stock.group_simplified_stock_multi_locations"
                           attrs="{'required': [('required_location_id', '=', True)]}"
                           options="{'no_create': True, 'no_open': True}"/>
                    <field name="qty_in_stock"/>
                    <field name="avg_cost"/>
                </xpath>
                <xpath expr="//div[@name='button_box']" position="inside">
                    <field name="sale_ids" invisible="1" groups="robo_stock.robo_stock_extended"/>
                    <button groups="robo_stock.robo_stock_extended" name="action_view_sale_robo" type="object" string="Pardavimas"
                                icon="fa-pencil-square-o"
                                class="oe_stat_button"
                                attrs="{'invisible': [('sale_ids', '=', [])]}"/>

                </xpath>
                <xpath expr="//form[@name='account_invoice_line']//field[@name='product_id']" position="after">
                    <field name="product_tmpl_id" string="Produktas" nolabel="1"
                           context="{'form_view_ref': 'robo_stock.robo_stock_product_form'}"/>
                </xpath>
                <xpath expr="//form[@name='account_invoice_line']//field[@name='product_id']" position="attributes">
                    <attribute name="class" add="oe_inline" separator=" "/>
                </xpath>
                <xpath expr="//header[last()]" position="after">
                    <field name="show_stock_moves_not_matching_warning" invisible="1"/>
                    <div class="alert alert-danger" role="alert" style="margin-bottom: 2px;"
                         attrs="{'invisible': [('show_stock_moves_not_matching_warning', '=', False)]}">
                            Sąskaitoje pateikti produktų kiekiai nesutampa su susijusių važtaraščių kiekiais.
                    </div>
                </xpath>
            </field>
        </record>

        <record id="robo_stock_landed_cost_tree" model="ir.ui.view">
            <field name="name">robo.stock.landed.cost.tree</field>
            <field name="model">stock.landed.cost</field>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <tree import="0" create="0" decoration-info="state=='draft'">
                    <field name="name"/>
                    <field name="date"/>
                    <field name="invoice_id"/>
                    <field name="invoice_partner_id" string="Paslaugų tiekėjas"/>
                    <field name="move_partner_id"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        <record id="robo_stock_landed_cost_form" model="ir.ui.view">
            <field name="name">robo.stock.landed.cost.form</field>
            <field name="model">stock.landed.cost</field>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <form string="Savikainos koregavimai">
                    <header>
                        <button name="button_validate" string="Patvirtinti" states="draft" class="oe_highlight"
                                type="object"/>
                        <button name="button_cancel" string="Atšaukti" states="draft" type="object"/>
                        <field name="is_reversion" invisible="1"/>
                        <field name="is_reverted" invisible="1"/>
                        <button name="button_revert_landed_cost" string="Atšaukti" states="done"
                                attrs="{'invisible': [('is_reverted','=',False)]}" type="object"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,done"/>
                    </header>
                    <sheet>
                        <div class="oe_title">
                            <label for="name" class="oe_edit_only" string="Numeris"/>
                            <h1>
                                <field name="name" placeholder="Koregavimo numeris"/>
                            </h1>
                        </div>
                        <group>
                            <group>
                                <field name="date" string="Data"/>
                                <field name="picking_ids" string="Važtaraščiai" widget="many2many_tags"
                                       domain="[('state', '=', 'done')]" options="{'no_create': True}"/>
                                <field name="mos" widget="many2many_tags" string="Gamybos užsakymai" can_create="true"
                                       can_write="true"
                                       options="{'no_create': True}" invisible="1"/>
                            </group>
                            <group>
                                <field name="account_journal_id" string="Operacijų žurnalas"
                                       groups="robo_basic.group_robo_premium_accountant"
                                       options="{'no_create': True, 'no_open': True}"/>
                                <field name="account_move_id" string="Žurnalo įrašas"
                                       options="{'no_create': True, 'no_open': False}"
                                       groups="robo_basic.group_robo_premium_accountant"/>
                                <field name="invoice_id" string="Susijusi sąskaita"
                                       options="{'no_create': True, 'no_open': False}"
                                       context="{'form_view_ref': 'robo.robo_expenses_form'}"/>
                            </group>
                        </group>

                        <separator string="Koreguojančios eilutės"/>
                        <field name="cost_lines" class="robo_form_tree" mode="tree,kanban">
                            <kanban class="o_kanban_mobile">
                                <field name="product_id"/>
                                <field name="account_id" string="DK sąskaita" invisible="1"/>
                                <field name="split_method" string="Skaidymo metodas"/>
                                <field name="price_unit" string="Savikaina"/>
                                <templates>
                                    <t t-name="kanban-box">
                                        <div t-attf-class="oe_kanban_card oe_kanban_global_click">
                                            <div class="row">
                                                <div class="col-xs-7">
                                                    <strong>
                                                        <span>
                                                            <t t-esc="record.product_id.value"/>
                                                        </span>
                                                    </strong>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-xs-7 text-muted">
                                                    <span>Skaidymo metodas</span>
                                                </div>
                                                <div class="col-xs-5">
                                                    <span>
                                                        <t t-esc="record.split_method.value"/>
                                                    </span>
                                                </div>

                                            </div>
                                            <div class="row">
                                                <div class="col-xs-7 text-muted">
                                                    <span>Savikaina</span>
                                                </div>
                                                <div class="col-xs-5">
                                                    <strong>
                                                        <span>
                                                            <t t-esc="record.price_unit.value"/>
                                                        </span>
                                                    </strong>
                                                </div>

                                            </div>
                                            <div class="row">
                                                <div class="col-xs-12 text-muted">
                                                    <strong>
                                                        <span>
                                                            <t t-esc="record.account_id.value"/>
                                                        </span>
                                                    </strong>
                                                </div>
                                            </div>
                                        </div>
                                    </t>
                                </templates>
                            </kanban>
                            <form string="Koreguojančios eilutės">
                                <group>
                                    <group>
                                        <field name="product_id" string="Koreguojantis produktas"
                                               domain="[('landed_cost_ok', '=', True)]"
                                               options="{'no_create': True, 'no_open': True}"/>
                                        <field name="price_unit" string="Savikaina"/>
                                    </group>
                                    <group>
                                        <field name="split_method" string="Skaidymo metodas"/>
                                        <field name="account_id" string="DK sąskaita" invisible="1"/>
                                    </group>
                                </group>
                                <label for="name" string="Aprašymas"/>
                                <field name="name" string="Aprašymas"/>
                            </form>
                            <tree string="Koreguojančios eilutės" editable="bottom">
                                <field name="product_id" string="Koreguojantis produktas"
                                       domain="[('landed_cost_ok', '=', True)]"
                                       options="{'no_create': True, 'no_open': True}"/>
                                <field name="name" string="Aprašymas"/>
                                <field name="account_id" string="DK sąskaita" invisible="1"/>
                                <field name="split_method" string="Skaidymo metodas"/>
                                <field name="price_unit" string="Savikaina"/>
                            </tree>
                        </field>
                        <group class="oe_subtotal_footer oe_right">
                            <field name="amount_total" widget="monetary" string="Viso"/>
                            <button colspan="2" name="compute_landed_cost" string="Skaičiuoti" type="object"
                                    class="oe_right btn-default" states="draft"/>
                        </group>

                        <div class="oe_clear"/>
                        <separator string="Apskaičiuoti koregavimai"/>
                        <field name="valuation_adjustment_lines" class="robo_form_tree" mode="tree,kanban">
                            <form string="Koregavimų eilutės">
                                <group>
                                    <group>
                                        <field name="product_id" string="Produktas"/>
                                        <field name="quantity" string="Kiekis"/>
                                    </group>
                                    <group>
                                        <field name="former_cost" string="Pradinė savikaina"/>
                                        <field name="additional_landed_cost" string="Koregavimo suma"/>
                                    </group>
                                </group>
                            </form>
                            <kanban class="o_kanban_mobile">
                                <field name="product_id" readonly="1" string="Koreguojantis produktas"/>
                                <field name="quantity" readonly="1" string="Kiekis"/>
                                <field name="former_cost" readonly="1" string="Pradinė savikaina (suma)"/>
                                <field name="additional_landed_cost" string="Koregavimo suma"/>
                                <templates>
                                    <t t-name="kanban-box">
                                        <div t-attf-class="oe_kanban_card oe_kanban_global_click">
                                            <div class="row">
                                                <div class="col-xs-8">
                                                    <strong>
                                                        <span>
                                                            <t t-esc="record.product_id.value"/>
                                                        </span>
                                                    </strong>
                                                </div>
                                                <div class="col-xs-4 text-muted">
                                                    <span>
                                                        <t t-esc="record.quantity.value"/>
                                                    </span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-xs-8 text-muted">
                                                    <span>Pradinė savikaina:</span>
                                                </div>
                                                <div class="col-xs-4 text-muted">
                                                    <span>
                                                        <t t-esc="record.former_cost.value"/>
                                                    </span>
                                                </div>

                                            </div>
                                            <div class="row">
                                                <div class="col-xs-8 text-muted">
                                                    <strong>Koregavimo suma:</strong>
                                                </div>
                                                <div class="col-xs-4 text-muted">
                                                    <strong>
                                                        <span>
                                                            <t t-esc="record.additional_landed_cost.value"/>
                                                        </span>
                                                    </strong>
                                                </div>
                                            </div>
                                        </div>
                                    </t>
                                </templates>
                            </kanban>
                            <tree string="Koregavimų eilutės" editable="bottom" create="0">
                                <field name="cost_line_id" readonly="1" string="Koreguojanti eilutė"/>
                                <field name="product_id" readonly="1" string="Koreguojamas produktas"/>
                                <field name="weight" readonly="1" string="Svoris"/>
                                <field name="volume" readonly="1" string="Tūris"/>
                                <field name="quantity" readonly="1" string="Kiekis"/>
                                <field name="former_cost_per_unit" readonly="1" widget="monetary"
                                       string="Pradinė savikaina (vienetui)"/>
                                <field name="former_cost" readonly="1" string="Pradinė savikaina (suma)"/>
                                <field name="additional_landed_cost" string="Koregavimo suma"
                                       sum="additional_landed_cost"/>
                                <field name="final_cost"/>
                            </tree>
                        </field>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_ids" widget="robo_mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        <record model="ir.ui.view" id="open_robo_stock_landed_costs_kanban">
            <field name="name">stock.landed.kanban</field>
            <field name="model">stock.landed.cost</field>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <kanban class="o_kanban_mobile" create="0" import="0">
                    <field name="name"/>
                    <field name="date"/>
                    <field name="state"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div t-attf-class="oe_kanban_card oe_kanban_global_click">
                                <div class="row">
                                    <div class="col-xs-6">
                                        <strong>
                                            <span>
                                                <t t-esc="record.name.value"/>
                                            </span>
                                        </strong>
                                    </div>
                                    <div class="col-xs-6">
                                        <strong>
                                            <span class="pull-right text-right">
                                                <field name="state" widget="kanban_label_selection"
                                                       options="{'classes': {'draft': 'default', 'cancel': 'default', 'none': 'danger', 'waiting': 'warning', 'confirmed': 'warning', 'partially_available': 'warning', 'done': 'success'}}"/>
                                            </span>
                                        </strong>
                                    </div>
                                </div>
                                <div class="row text-muted">
                                    <div class="col-xs-6">
                                        <span class="pull-right text-right">
                                            <t t-esc="record.date.value and record.date.value.split(' ')[0] or False"/>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <record model="ir.actions.act_window" id="open_robo_stock_landed_costs">
            <field name="name">Savikainos koregavimai</field>
            <field name="res_model">stock.landed.cost</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,kanban</field>
            <field name="target">current</field>
            <field name="view_id" ref="robo_stock_landed_cost_tree"/>
            <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree_robo', 'view_id': ref('robo_stock_landed_cost_tree')}),
                (0, 0, {'view_mode': 'kanban', 'view_id': ref('open_robo_stock_landed_costs_kanban')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('robo_stock_landed_cost_form')})]"/>
            <field name="robo_help" type="html">
                <p class="oe_view_robo_nocontent_search">
                    Ši jūsų užklausa negrąžino jokių rezultatų
                </p>
            </field>
            <field name="robo_menu" ref="menu_robo_stock"/>
            <field name="header" ref="robo_stock_header_landed_cost"/>
            <field name="context">
                {
                    'search_add_custom': False,
                }
            </field>
        </record>
        <menuitem id="menu_robo_stock_landed_costs"
                  parent="robo_stock.menu_robo_stock"
                  name="Savikainos koregavimas"
                  sequence="90"
                  action="open_robo_stock_landed_costs"
                  groups="robo_stock.group_robo_landed_costs"
                  robo_front="True"
                  force_web_icon="icon-calculator,none,none"
                  searchable="True"
                  tags="savikainos,koregavimas"
        />
        <record model="ir.actions.act_window" id="new_open_robo_stock_landed_costs">
            <field name="name">Savikainos koregavimai</field>
            <field name="res_model">stock.landed.cost</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">current</field>
            <field name="view_id" ref="robo_stock_landed_cost_tree"/>
            <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'form', 'view_id': ref('robo_stock_landed_cost_form')})]"/>
            <field name="robo_help" type="html">
                <p class="oe_view_robo_nocontent_search">
                    Ši jūsų užklausa negrąžino jokių rezultatų
                </p>
            </field>
            <field name="context" eval="{
                'search_add_custom': False,
                }"
            />
            <field name="robo_menu" ref="menu_robo_stock"/>
            <field name="header" ref="robo_stock_header_landed_cost"/>
        </record>


        <record id="robo_stock_account_invoice_extend" model="ir.ui.view">
            <field name="name">account.invoice.extend.landed.costs</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="robo.robo_expenses_form"/>
            <field name="arch" type="xml">
                <xpath expr="//button[@name='action_invoice_cancel']" position="after">
                    <field name="picking_done" invisible="1"/>
                    <field name="picking_id" invisible="1"/>
                    <button name="button_recompute_picking_done" type="object"
                            class="oe_highlight" groups="robo_basic.group_robo_premium_manager"
                            string="Perskaičiuoti prekių nurašymo statusą"
                            attrs="{'invisible': [('picking_done', '=', True), ('picking_id', '=', False)]}"/>
                </xpath>
                <xpath expr="//page[@class='invoice_lines']" position="after">
                    <page name="landed_costs" string="Savikainos koregavimai"
                          attrs="{'invisible': [('landed_cost_ids', '=', [])]}">
                        <group>
                            <field name="landed_cost_ids" class="robo_form_tree" nolabel="1"
                                   context="{'form_view_ref': 'robo_stock.robo_stock_landed_cost_form'}">
                                <tree create="0">
                                    <field name="name" string="Pavadinimas"/>
                                    <field name="date" string="Data"/>
                                    <field name="state" string="Būsena"/>
                                    <field name="amount_total" string="Suma"/>
                                </tree>
                            </field>
                        </group>
                    </page>
                </xpath>
            </field>
        </record>
        <function name="create_routes_for_exist_wh" model="stock.warehouse"/>

        <!--extend robo client from with delivery_agent-->
        <record id="client_customer_form" model="ir.ui.view">
            <field name="name">clients_customer_form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="robo.new_clients_customer_form"/>
            <field name="arch" type="xml">
                <xpath expr="//page[@name='other_settings']//field[@name='supplier']" position="after">
                    <field name="delivery_agent" string="Kurjeris" invisible="1"/>
                </xpath>
            </field>
        </record>
        <record id="transport_form" model="ir.ui.view">
            <field name="name">transport_form</field>
            <field name="model">transport</field>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <field name="delivery_agent_id"
                                   context="{'default_delivery_agent': True, 'form_view_ref':'robo.new_clients_customer_form',}"/>
                            <field name="model"/>
                            <field name="license_plate"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!--Inventory-->

        <record id="komisija_form" model="ir.ui.view">
            <field name="name">robo_stock.komisija</field>
            <field name="model">alignment.committee</field>
            <field name="priority" eval="99"/>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <button name="validate" class="oe_highlight"
                                type="object" string="Patvirtinti" states="invalid"
                                colspan="2"/>
                            <button name="invalidate" class="oe_highlight"
                                type="object" string="Atšaukti" states="valid"
                                colspan="2"/>
                        </group>
                        <group>
                            <field name="state" string="Būsena" readonly="1"/>
                            <field name="name" string="Komisijos pavadinimas"/>
                            <field name="company_id" options="{'no_open':1, 'no_create': 1}"/>
                            <field name="date" string="Data"/>
                            <field name="type" string="Komisijos tipas"/>
                            <field name="member_count" string="Narių sk."/>
                            <field string="Tvirtinančiųjų sk." name="no_of_approve"/>
                            <field name="employee_ids" string="Darbuotojai" mode="tree,kanban">
                                <tree class="robo_tree_in_form">
                                    <field name="name"/>
                                </tree>
                                <kanban class="o_kanban_mobile">
                                    <field name="name"/>
                                    <templates>
                                        <t t-name="kanban-box">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <strong>
                                                        <field name='name'/>
                                                    </strong>
                                                </div>
                                            </div>
                                        </t>
                                    </templates>
                                </kanban>
                            </field>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="robo_stock_view_inventory_filter" model="ir.ui.view">
            <field name="name">robo_stock.inventory.filter</field>
            <field name="model">stock.inventory</field>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <search string="Atsargų nurašymas">
                    <field name="name" string="Atsargų nurašymo aktas"
                           filter_domain="['|', ('name', 'ilike', self),
                           ('number', 'ilike', self)]"/>
                    <field name="line_ids" string="Produktas"
                           filter_domain="['|', ('line_ids.product_id.default_code', 'ilike', self),
                           ('line_ids.product_id.name', 'ilike', self)]"/>
                    <field name="location_id" string="Sandėlis" domain="[('location_id.usage', '=', 'internal')]"
                           filter_domain="[('location_id', 'ilike', self)]"/>
                    <field name="date" string="Data"/>
                    <field name="accounting_date" string="Apskaitos data"/>
                    <field name="company_id" string="Kompanija" groups="base.group_multi_company"/>
                    <filter name="draft" string="Juodraščiai" domain="[('state', '=', 'draft')]"/>
                    <filter name="confirm" string="Vykdomi" domain="[('state', '=', 'confirm')]"/>
                    <filter name="done" string="Patvirtinti" domain="[('state', '=', 'done')]"/>
                    <separator/>
                    <filter name="not_validated" string="Nepatvirtinta buhalterio"
                            domain="[('accountant_validated', '=', False)]"
                            groups="robo_basic.group_robo_premium_accountant"/>
                    <group expand="0" string="Group By">
                        <filter string="Būsena" domain="[]" context="{'group_by':'state'}"/>
                        <filter string="Koregavimo mėnuo" domain="[]" context="{'group_by':'date'}"/>
                        <filter string="Apskaitos mėnuo" domain="[]" context="{'group_by':'accounting_date'}"/>
                        <filter string="Sandėlis" domain="[('location_id.usage', '=', 'internal')]"
                                context="{'group_by':'location_id'}"/>
                    </group>
                </search>
            </field>
        </record>
        <record id="robo_stock_product_template_filter" model="ir.ui.view">
            <field name="name">robo_stock.product.template.filter</field>
            <field name="model">product.template</field>
            <field name="robo_front">True</field>
            <field name="inherit_id" ref="product.product_template_search_view"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='name']" position="after">
                    <field name="product_variant_ids" string="Produkto variantas"
                           groups="product.group_product_variant"/>
                </xpath>
                <xpath expr="//field[@name='categ_id']" position="after">
                    <field name="default_code" string="Vidinis numeris"/>
                    <field name="barcode" string="Barkodas"/>
                    <field name="intrastat_id" string="Intrastat numeris"
                           groups="robo_stock.group_show_intrastat_fields"/>
                </xpath>
                <xpath expr="//search" position="inside">
                    <group>
                        <filter name="group_categ_id" string="Kategorija" context="{'group_by': 'categ_id'}"/>
                        <filter name="group_type" string="Tipas" context="{'group_by': 'type'}"/>
                        <filter name="group_kilmes_salis" string="Kilmės šalis" context="{'group_by': 'kilmes_salis'}"/>
                        <filter name="group_intrastat_id" string="Intrastat kodas"
                                context="{'group_by': 'intrastat_id'}" groups="robo_stock.group_show_intrastat_fields"/>
                    </group>
                </xpath>
            </field>
        </record>
        <record id="robo_stock_inventory_tree" model="ir.ui.view">
            <field name="priority" eval="99"/>
            <field name="robo_front">True</field>
            <field name="name">robo_stock.inventory.tree</field>
            <field name="model">stock.inventory</field>
            <field name="arch" type="xml">
                <tree string="Atsargų nurašymas"
                      decoration-muted="state == 'cancel'"
                      decoration-success="accountant_validated"
                      decoration-danger="job_status == 'fail'"
                      decoration-warning="job_status == 'in_queue'"
                      decoration-info="job_status == 'progress'"
                      import="0" create="0">
                    <field name="name" string="Pavadinimas"/>
                    <field name="number" string="Numeris"/>
                    <field name="date" string="Data"/>
                    <field name="accounting_date" string="Apskaitos data"/>
                    <field name="location_id" string="Sandėlis"/>
                    <field name="state" string="Būsena"/>
                    <field name="total_value" string="Vertė"/>
                    <field name="currency_id" invisible="1"/>
                    <field name="accountant_validated" invisible="1"/>
                    <field name="job_status" invisible="1"/>
                    <button name="accountant_validated_button" class="accountant_validated_button"
                            icon="fa-check" string="Patvirtinta buhalterio"
                            attrs="{'invisible': [('accountant_validated','=',False)]}"/>
                </tree>
            </field>
        </record>
        <record id="robo_stock_inventory_kanban" model="ir.ui.view">
            <field name="priority" eval="99"/>
            <field name="robo_front">True</field>
            <field name="name">robo_stock.inventory.tree</field>
            <field name="model">stock.inventory</field>
            <field name="arch" type="xml">
                <kanban string="Atsargų nurašymas" import="0" create="0">
                    <field name="name" string="Pavadinimas"/>
                    <field name="number" string="Numeris"/>
                    <field name="total_value" string="Vertė"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div t-attf-class="oe_kanban_card oe_kanban_global_click">
                                <div class="row">
                                    <strong>
                                        <t t-esc="record.name.value"/>
                                    </strong>
                                </div>
                                <div class="row">
                                    <span>Numeris:
                                        <t t-esc="record.number.value"/>
                                    </span>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>
        <record id="robo_stock_inventory_form" model="ir.ui.view">
            <field name="priority" eval="99"/>
            <field name="robo_front">True</field>
            <field name="name">robo_stock.inventory.form</field>
            <field name="model">stock.inventory</field>
            <field name="arch" type="xml">
                <form string="Atsargų nurašymas">
                    <header>
                        <button name="print_report" string="Spausdinti" class="oe_highlight" type="object"
                                states="draft,confirm,done"/>
                        <button name="btn_prepare_inventory" string="Paruošti aktą" type="object"
                                class="oe_highlight" groups="stock.group_stock_user"
                                attrs="{'invisible': ['|', ('state', '!=', 'draft'), 
                                ('job_status','in',['progress', 'in_queue'])]}"/>
                        <button name="button_action_done" string="Vykdyti koregavimą" type="object"
                                class="oe_highlight" groups="stock_extend.group_robo_stock"
                                attrs="{'invisible': ['|',('state','!=','confirm'), 
                                ('job_status','in',['progress', 'in_queue'])]}"/>
                        <button name="action_open_inventory_import_wizard" type="object"
                                string="Importuoti atsargų nurašymą" class="oe_highlight"
                                groups="robo_stock.group_show_accounting_qty"
                                attrs="{'invisible': ['|',('state','not in',['draft', 'confirm']), 
                                ('job_status','in',['progress', 'in_queue'])]}"/>
                        <button name="btn_recalculate_theoretical_qty" type="object"
                                string="Perskaičiuoti teorinį kiekį" class="oe_highlight"
                                attrs="{'invisible': [('state', '=', 'done')]}"/>
                        <button name="btn_action_recalculate_accounting_qty" type="object"
                                string="Perskaičiuoti kiekį apskaitos datai" class="oe_highlight"
                                groups="robo_stock.group_show_accounting_qty"
                                attrs="{'invisible': ['|',('state','not in',['draft', 'confirm']), 
                                ('job_status','in',['progress', 'in_queue'])]}"/>
                        <field name="accountant_validated" invisible="1"/>
                        <button name="mark_validated" class="oe_highlight" type="object"
                                string="Pažymėti kaip patvirtintą" groups="robo_basic.group_robo_premium_accountant"
                                attrs="{'invisible': ['|',('state','not in',['done', 'cancel']),
                                ('accountant_validated','=',True)]}"/>
                        <button name="mark_invalidated" class="oe_highlight" type="object"
                                string="Pažymėti kaip nepatvirtintą" groups="robo_basic.group_robo_premium_accountant"
                                attrs="{'invisible': [('accountant_validated','=',False)]}"/>
                        <button name="btn_cancel_draft_inventory" states="confirm" string="Atšaukti koregavimą" type="object"
                                attrs="{'invisible': ['|',('state','!=','confirm'), 
                                ('job_status','in',['progress', 'in_queue'])]}"/>
                        <button name="action_check_for_duplicate_lines" states="confirm" type="object"
                                string="Tikrinti dublikatus" groups="stock_extend.group_robo_stock"/>
                        <button name="action_split_lack_surplus" states="confirm" type="object"
                                string="Atskelti trūkumą/perteklių" groups="robo_stock.group_show_accounting_qty"/>
                        <button name="btn_cancel_state_done" string="Atšaukti" type="object"
                                confirm="Atšaukus dokumentą jo koreguoti nebus galima. Atsargų nurašymą / Savikainos koregavimą reikės įvesti iš naujo. Ar tikrai norite atšaukti šį dokumentą?"
                                groups="account.group_account_manager, stock.group_stock_manager"
                                attrs="{'invisible': ['|',('state','!=','done'), 
                                ('job_status','in',['progress', 'in_queue'])]}"/>
                        <button name="action_cancel_draft_inventory" string="Atšaukti" type="object" states="draft"
                                confirm="Atšaukus dokumentą jo koreguoti nebus galima. Atsargų nurašymą / Savikainos koregavimą reikės įvesti iš naujo. Ar tikrai norite atšaukti šį dokumentą?"
                                groups="robo_basic.group_robo_premium_accountant"/>
                        <button name="action_copy" string="Kurti kopiją" states="draft,done,cancel" type="object"/>
                        <field name="accountant_validated_text" class="inventory_validated_by_accountant_text"
                               nolabel="1" attrs="{'invisible':[('accountant_validated','=', False)]}"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirm,done"/>
                    </header>
                    <field name="nbr_of_attachments" invisible="1"/>
                    <field name="user_attachment_ids" invisible="1"/>
                    <field name="attachment_drop_lock" invisible="1"/>
                    <widget type="robo_attach_files"/>
                    <field name="unique_wizard_id" invisible="1"/>
                    <field name="job_status" invisible="1"/>
                    <sheet>
                        <div class="alert alert-warning" role="alert" style="margin-bottom: 2px;"
                            attrs="{'invisible': [('job_status', '!=', 'in_queue')]}"
                        >
                            A job is queued to run for this act
                        </div>
                        
                        <div class="alert alert-info" role="alert" style="margin-bottom: 2px;"
                            attrs="{'invisible': [('job_status', '!=', 'progress')]}"
                        >
                            A job is in progress for this act
                        </div>

                        <div class="alert alert-danger" role="alert" style="margin-bottom: 2px;"
                            attrs="{'invisible': [('job_status', '!=', 'fail')]}"
                        >
                            <field name='job_message'/>
                        </div>

                        <div class="oe_button_box" name="button_box" attrs="{'invisible': [('state', 'in', ['draft', 'confirm'])]}">
                            <button class="oe_stat_button" name="button_journal_entries" string="DK Įrašai" type="object" groups="account.group_account_manager" icon="fa-bars"/>
                        </div>
                        <div class="oe_title">
                            <label for="name" class="oe_edit_only" string="Dokumento pavadinimas"/>
                            <h1>
                                <field name="name" placeholder="pvz. atsargų nurašymas"/>
                            </h1>
                            <h2>
                                <field name="number"/>
                            </h2>
                        </div>
                        <group>
                            <group>
                                <field name="location_id" options="{'no_open':1, 'no_create':1}"
                                       domain="[('usage','in', ['internal', 'transit'])]"
                                       groups="stock.group_stock_multi_locations" string="Atsargų vieta"/>
                                <field name="komisija" string="Komisija" domain="[('type','=','inventory')]" context="{
                                'form_view_ref': 'robo_stock.komisija_form',
                                'default_type': 'inventory',
                            }" options="{'no_create': True, 'no_open': True}"/>
                                <field name="filter" string="Koregavimas" widget='radio'
                                       attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                                <field name="total_value" string="Nurašymų vertė" states="done"/>
                                <field name="currency_id" invisible="1"/>
                                <!--<field name="exhausted" attrs="{'invisible': [('filter', 'in', ('owner', 'product_owner','lot','pack','partial', 'product'))]}"/>-->
                            </group>
                            <group>
                                <field name="date" string="Koregavimo data" help=""/>
                                <field name="accounting_date" string="Apskaitos data" help="" required="1"/>
                                <field name="company_id" groups="base.group_multi_company" options="{'no_create': True}"
                                       string="Kompanija"/>
                                <field name="product_id" string="Produktas" domain="[('type','=','product')]"
                                       attrs="{'invisible': [('filter', 'not in', ('product', 'product_owner'))], 'required': [('filter', 'in', ('product', 'product_owner'))]}"
                                       options="{'no_create': True, 'no_open': True}" context="" help=""/>
                                <field name="representation_inventory" invisible="1"/>
                                <field name="account_id" options="{'no_create': True, 'no_open': True}"
                                       groups="robo_basic.group_robo_premium_accountant"
                                       attrs="{'invisible': [('representation_inventory', '=', True)]}"/>
                                <field name="reason_line" widget="selection"
                                       attrs="{'readonly': [('state', 'in', ['cancel', 'done'])]}"/>
                                <field name="reason_details"
                                       attrs="{'readonly': [('state', 'in', ['cancel', 'done'])]}"/>
                                <field name="account_analytic_id" string="Analitinė sąskaita"
                                       groups="analytic.group_analytic_accounting"
                                       options="{'no_create': True, 'no_open': True}"
                                       attrs="{'readonly': [('state', 'in', ['cancel', 'done'])]}"/>
                                <field name="category_id" string="Kategorija"
                                       attrs="{'invisible': [('filter', 'not in','category')], 'required': [('filter', 'in', 'category')]}"
                                       options="{'no_create': True, 'no_open': True}" help=""/>
                                <field name="lot_id" help="" options="{'no_create': True, 'no_open': True}"
                                       attrs="{'invisible': [('filter', '!=', 'lot')], 'required': [('filter', '=', 'lot')]}"
                                       groups="stock.group_production_lot"/>
                                <field name="partner_id" help="" options="{'no_create': True, 'no_open': True}"
                                       attrs="{'invisible': [('filter', 'not in', ('owner', 'product_owner'))], 'required': [('filter', 'in', ('owner', 'product_owner'))]}"
                                       groups="stock.group_tracking_owner"/>
                                <field name="package_id" help="" options="{'no_create': True, 'no_open': True}"
                                       attrs="{'invisible': [('filter', '!=', 'pack')], 'required': [('filter', '=', 'pack')]}"
                                       groups="stock.group_tracking_lot"/>
                                <field name="invoice_id" options="{'no_create': True}" readonly="1"
                                       attrs="{'invisible': [('invoice_id', '=', False)]}"/>
                            </group>
                        </group>
                        <notebook attrs="{'invisible': [('state', '=', 'draft'), ('line_ids', '=', [])]}">
                            <page string="Atsargos">
                                <button name="reset_real_qty" states="confirm" string="⇒ Nustatyti kiekius 0"
                                        type="object" class="oe_link oe_right" groups="stock.group_stock_user"
                                        confirm="Ar tikrai norite anuliuoti kiekius?"/>
                                <button name="reset_accounting_qty" states="confirm"
                                        string="⇒ Nustatyti kiekius apskaitos datai 0"
                                        type="object" class="oe_link oe_right"
                                        groups="robo_stock.group_show_accounting_qty"
                                        confirm="Ar tikrai norite anuliuoti apskaitos kiekius?"/>
                                <field name="line_ids" string="Inventory Details"
                                       context="{'default_location_id': location_id,  'default_product_id': product_id, 'default_prod_lot_id': lot_id, 'default_package_id': package_id, 'default_partner_id': partner_id, 'default_account_analytic_id': account_analytic_id}"
                                       mode="tree,kanban">
                                    <tree string="Atsargos" editable="bottom"
                                          decoration-info="product_qty != theoretical_qty"
                                          decoration-danger="theoretical_qty &lt; 0">
                                        <field name="product_id" domain="[('type','=','product')]"/>
                                        <field name="product_uom_id" string="UoM" groups="product.group_uom"/>
                                        <field name="location_id" string='Vieta'
                                               domain="[('id', 'child_of', parent.location_id), ('usage', '=', 'internal')]"
                                               groups="stock.group_stock_multi_locations"/>
                                        <field name="account_analytic_id" string="Analitinė sąskaita"
                                               groups="analytic.group_analytic_accounting"
                                               options="{'no_create': True, 'no_open': True}"/>
                                        <field name="prod_lot_id" domain="[('product_id', '=', product_id)]"
                                               context="{'default_product_id': product_id}"
                                               groups="stock.group_production_lot"/>
                                        <field name="package_id"
                                               domain="['|', ('location_id','=', False), ('location_id', '=', location_id)]"
                                               groups="stock.group_tracking_lot"/>
                                        <field name="partner_id" groups="stock.group_tracking_owner"/>
                                        <field name="accounting_qty" groups="robo_stock.group_show_accounting_qty"/>
                                        <field name="theoretical_qty" string="Teorinis kiekis" readonly="1"/>
                                        <field name="changed" invisible="1"/>
                                        <field name="consumed_qty" string="Kiekio pasikeitimai (+ arba -)"/>
                                        <field name="product_qty" string="Tikrasis kiekis"/>
                                        <field name="accounting_product_qty"
                                               groups="robo_stock.group_show_accounting_qty"/>
                                        <field name="total_value" sum="Savikaina"/>
                                        <field name="state" invisible="True"/>
                                    </tree>
                                    <kanban class="o_kanban_mobile">
                                        <field name="product_id" domain="[('type','=','product')]"/>
                                        <field name="product_uom_id" groups="product.group_uom" string="UoM"/>
                                        <field name="location_id" domain="[('id', 'child_of', parent.location_id)]"
                                               groups="stock.group_stock_multi_locations"/>
                                        <field name="prod_lot_id" domain="[('product_id', '=', product_id)]"
                                               context="{'default_product_id': product_id}"
                                               groups="stock.group_production_lot"/>
                                        <field name="package_id"
                                               domain="['|', ('location_id','=', False), ('location_id', '=', location_id)]"/>
                                        <field name="partner_id"/>
                                        <field name="theoretical_qty" readonly="1"/>
                                        <field name="product_qty" string="Real Quantity"/>
                                        <field name="changed" invisible="1"/>
                                        <field name="account_id"/>
                                        <field name="state" invisible="True"/>

                                        <templates>
                                            <t t-name="kanban-box">
                                                <div t-attf-class="oe_kanban_global_click_edit
                                                               #{record.product_qty.raw_value!=record.theoretical_qty.raw_value ? 'oe_kanban_color_6' : ''}
                                                               #{record.theoretical_qty.raw_value&lt;0 ? 'oe_kanban_color_2' : ''}">
                                                    <div class="row">
                                                        <div class="col-xs-12">
                                                            <strong>
                                                                <field name='product_id'/>
                                                            </strong>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-xs-12 text-muted">
                                                            <span><t t-esc='record.location_id.string'/>:
                                                                <t t-esc='record.location_id.value'/>
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-xs-12 text-muted">
                                                            <span><t t-esc='record.theoretical_qty.string'/>:
                                                                <t t-esc='record.theoretical_qty.value'/>
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-xs-12 text-muted">
                                                            <span><t t-esc='record.product_qty.string'/>:
                                                                <t t-esc='record.product_qty.value'/>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </t>
                                        </templates>
                                    </kanban>
                                </field>
                                <p/>
                                <h3 class="oe_grey">Pastabos</h3>
                                <ul class="oe_grey">
                                    <li>Atsargų nurašymas atliekamas lyginant teorinį ir realų kiekį sandėlyje.</li>
                                    <li>Galite ištrinti eilutes, norėdami ignoruoti kai kuriuos produktus.</li>
                                </ul>
                            </page>
                            <page string="Atsargų nurašymas" attrs="{'invisible': [('state', '!=', 'done')]}">
                                <field name="move_ids">
                                    <tree decoration-muted="scrapped == True" string="Stock Moves">
                                        <field name="product_id"/>
                                        <field name="product_uom_qty"/>
                                        <field name="product_uom" options="{'no_open': True, 'no_create': True}"
                                               string="Matavimo vienetas" groups="product.group_uom"/>
                                        <field name="picking_id" invisible="1"/>
                                        <field name="create_date" invisible="1"/>
                                        <field name="date_expected" invisible="1"/>
                                        <field name="scrapped" invisible="1"/>
                                        <field name="location_id"/>
                                        <field name="location_dest_id"/>
                                        <field name="state"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <!--<field name="message_follower_ids" widget="mail_followers"/>-->
                        <field name="message_ids" widget="robo_mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <record id="stock_inventory_line_view_form" model="ir.ui.view">
            <field name="priority" eval="99"/>
            <field name="robo_front">True</field>
            <field name="name">stock.inventory.line.view.form</field>
            <field name="model">stock.inventory.line</field>
            <field name="arch" type="xml">
                <form string="Inventoriaus detalės">
                    <sheet>
                        <group>
                            <group>
                                <field name="product_id" domain="[('type','=','product')]"/>
                                <field name="product_uom_id" string="UoM" groups="product.group_uom"/>
                                <field name="location_id" string='Vieta'
                                       domain="[('id', 'child_of', parent.location_id), ('usage', '=', 'internal')]"
                                       groups="stock.group_stock_multi_locations"/>
                                <field name="account_analytic_id" string="Analitinė sąskaita"
                                       groups="analytic.group_analytic_accounting"
                                       options="{'no_create': True, 'no_open': True}"/>
                                <field name="prod_lot_id" domain="[('product_id', '=', product_id)]"
                                       context="{'default_product_id': product_id}"
                                       groups="stock.group_production_lot"/>
                                <field name="package_id"
                                       domain="['|', ('location_id','=', False), ('location_id', '=', location_id)]"
                                       groups="stock.group_tracking_lot"/>
                            </group>
                            <group>
                                <field name="partner_id" groups="stock.group_tracking_owner"/>
                                <field name="accounting_qty" groups="robo_stock.group_show_accounting_qty"/>
                                <field name="theoretical_qty" string="Teorinis kiekis" readonly="1"/>
                                <field name="changed" invisible="1"/>
                                <field name="consumed_qty" string="Kiekio pasikeitimai (+ arba -)"/>
                                <field name="product_qty" string="Tikrasis kiekis"/>
                                <field name="accounting_product_qty" groups="robo_stock.group_show_accounting_qty"/>
                                <field name="total_value"/>
                                <field name="state" invisible="True"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="view_inventory_form_add_comments" model="ir.ui.view">
            <field name="name">view.inventory.form.add.comments</field>
            <field name="model">stock.inventory</field>
            <field name="inherit_id" ref="stock.view_inventory_form"/>
            <field name="arch" type="xml">
                <xpath expr="//form/sheet" position="after">
                    <div class="oe_chatter">
                        <!--<field name="message_follower_ids" widget="mail_followers"/>-->
                        <field name="message_ids" widget="robo_mail_thread"/>
                    </div>
                </xpath>
                <xpath expr="//form//field[@name='filter']" position="after">
                    <field name="total_value" string="Nurašymų vertė"/>
                </xpath>
                <xpath expr="//form/sheet" position="before">
                    <field name="nbr_of_attachments" invisible="1"/>
                    <field name="user_attachment_ids" invisible="1"/>
                    <field name="attachment_drop_lock" invisible="1"/>
                    <widget type="robo_attach_files"/>
                    <field name="unique_wizard_id" invisible="1"/>
                </xpath>
                <xpath expr="//field[@name='account_id']" position="after">
                    <field name="reason_line" widget="selection"/>
                    <field name="reason_details"/>
                    <field name="account_analytic_id" options="{'no_create': 1, 'no_open': 1}"
                           string="Analitinė sąskaita" help=""
                           groups="analytic.group_analytic_accounting"/>
                </xpath>
                <xpath expr="//field[@name='line_ids']/tree/field[@name='product_uom_id']" position="after">
                    <field name="account_analytic_id" string="Analitinė sąskaita"
                           groups="analytic.group_analytic_accounting"
                           options="{'no_create': True, 'no_open': True}"/>
                </xpath>
                <xpath expr="//div[@class='oe_title']" position="before">
                    <div class="oe_button_box" name="button_box">
                        <button class="oe_stat_button" name="button_journal_entries" string="DK Įrašai" type="object"
                                groups="account.group_account_manager" icon="fa-bars"/>
                    </div>
                </xpath>
            </field>
        </record>

        <record id="open_robo_stock_inventory" model="ir.actions.act_window">
            <field name="name">Atsargų nurašymas</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">stock.inventory</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree_robo,form,kanban</field>
            <field name="view_id" ref="robo_stock_inventory_tree"/>
            <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree_robo', 'view_id': ref('robo_stock.robo_stock_inventory_tree')}),
                (0, 0, {'view_mode': 'kanban', 'view_id': ref('robo_stock.robo_stock_inventory_kanban')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('robo_stock.robo_stock_inventory_form')})]"/>
            <field name="search_view_id" ref="robo_stock_view_inventory_filter"/>
            <field name="robo_help" type="html">
                <p class="oe_view_robo_nocontent_search">
                    Ši jūsų užklausa negrąžino jokių rezultatų
                </p>
            </field>
            <field name="robo_menu" ref="menu_robo_stock"/>
            <field name="header" ref="robo_stock_header_stock_inventory"/>
            <field name="context">
                {
                    'search_add_custom': False,
                }
            </field>
        </record>
        <menuitem id="menu_robo_stock_inventor"
                  parent="robo_stock.menu_robo_stock"
                  name="Atsargų nurašymas"
                  sequence="15"
                  action="open_robo_stock_inventory"
                  groups="stock_extend.group_robo_stock"
                  robo_front="True"
                  force_web_icon="icon-abacus,none,none"
                  searchable="True"
                  tags="atsargų,nurašymas"
        />

        <record id="stock.view_pack_operation_lot_form" model="ir.ui.view">
            <field name="robo_front">True</field>
        </record>
        <record id="view_pack_operation_details_form_scan_ext" model="ir.ui.view">
            <field name="name">viewp.ack.operation.details.form.scan.ext</field>
            <field name="model">stock.pack.operation</field>
            <field name="inherit_id" ref="stock.view_pack_operation_lot_form"/>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='pack_lot_ids']/.." position="before">
                    <group>
                        <field name="location_id" invisible="1"/>
                        <field name="_barcode_scanned" widget="barcode_handler" invisible="1"
                               groups="stock.group_production_lot"/>
                        <field name="barcode" groups="stock.group_production_lot"/>
                        <field name="scan_status_text" readonly="True" groups="stock.group_production_lot"/>
                    </group>
                </xpath>
                <xpath expr="//field[@name='pack_lot_ids']/tree" position="attributes">
                    <attribute name="create">0</attribute>
                </xpath>
            </field>
        </record>

        <record id="robo_stock_warehouse_tree" model="ir.ui.view">
            <field name="priority" eval="99"/>
            <field name="name">stock.warehouse.robo.tree</field>
            <field name="model">stock.warehouse</field>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <tree import="0">
                    <field name="name"/>
                    <field name="code" string="Trumpinys"/>
                    <field name="is_consignative"/>
                </tree>
            </field>
        </record>
        <record id="robo_stock_warehouse_form" model="ir.ui.view">
            <field name="priority" eval="99"/>
            <field name="robo_front">True</field>
            <field name="name">stock.warehouse.robo.form</field>
            <field name="model">stock.warehouse</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="oe_title">
                            <label for="name" class="oe_edit_only"/>
                            <h1>
                                <field name="name"/>
                            </h1>
                        </div>
                        <group>
                            <field name="code" string="Trumpinys"/>
                            <field name="is_consignative"/>
                            <field name="partner_id"/>
                        </group>
                        <group string="Maršrutai" groups="stock.group_adv_location">
                            <field name="mto_mts_management"/>
                            <field name="route_ids" widget="many2many_checkboxes" help=""
                                   can_create="true" can_write="true"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="open_warehouses" model="ir.actions.act_window">
            <field name="name">Sandėliai</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">stock.warehouse</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree_robo,form</field>
            <field name="view_id" ref="robo_stock_inventory_tree"/>
            <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree_robo', 'view_id': ref('robo_stock.robo_stock_warehouse_tree')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('robo_stock.robo_stock_warehouse_form')})]"/>
            <field name="robo_help" type="html">
                <p class="oe_view_robo_nocontent_search">
                    Ši jūsų užklausa negrąžino jokių rezultatų
                </p>
            </field>
            <field name="robo_menu" ref="menu_robo_stock"/>
        </record>
        <menuitem id="menu_robo_stock_warehouse_front"
                  parent="robo_stock.menu_robo_stock"
                  name="Sandėliai"
                  sequence="20"
                  action="robo_stock.open_warehouses"
                  groups="robo_stock.group_front_warehouse_manager"
                  robo_front="True"
                  force_web_icon="icon-vault,none,none"
                  searchable="True"
                  tags="sandėliai"
        />
        <record id="robo_stock_company_settings" model="ir.ui.view">
            <field name="name">robo_stock.company.settings</field>
            <field name="model">robo.company.settings</field>
            <field name="inherit_id" ref="robo.company_settings_form"/>
            <field name="arch" type="xml">
                <xpath expr="//group[@name='other_settings']" position="inside">
                    <button name="%(open_warehouses)d" string="Sandėliai" type="action" class="oe_link"/>
                </xpath>
                <xpath expr="//field[@name='module_robo_stock']" position="after">
                    <field name="politika_sandelio_apskaita" string="Sandėlio apskaitos politika"/>
                    <field name="simplified_stock_mode" widget="radio" class="oe_edit_only"
                           options="{'horizontal': true}"
                           attrs="{'invisible': [('politika_sandelio_apskaita', '=', 'extended')]}"/>
                    <field name="simplified_stock_multi_locations" class="oe_edit_only"
                           options="{'horizontal': true}"
                           attrs="{'invisible': [('politika_sandelio_apskaita', '=', 'extended')]}"/>
                    <field name="simplified_stock_default_location" class="oe_edit_only"
                           options="{'horizontal': true, 'no_create': True, 'no_open': True}"
                           attrs="{'invisible': ['|', ('politika_sandelio_apskaita', '=', 'extended'),
                                                      ('simplified_stock_multi_locations', '=', False)]}"/>
                    <field name="allow_zero_value_quant" string="Leisti produktus su nuline verte"
                           groups="robo_basic.group_robo_premium_accountant"/>
                    <field name="stock_inventory_require_reason_line"
                           string="Reikalauti pasirinkti nurašymo priežastį atsargų nurašymo aktuose"
                           groups="robo_basic.group_robo_premium_accountant"/>
                    <field name="stock_inventory_require_committee"
                           string="Reikalauti pasirinkti komisiją atsargų nurašymo aktuose"
                           groups="robo_basic.group_robo_premium_accountant"/>
                    <field name="default_stock_surplus_account_id" groups="robo_basic.group_robo_premium_accountant"/>
                    <field name="default_api_invoice_picking_stock_warehouse"
                           attrs="{'invisible': [('politika_sandelio_apskaita', '!=', 'extended')]}"/>
                    <field name="auto_sale_picking_create" string="Automatiškai kurti važtaraščius tvirtinant pardavimus"
                           groups="robo_basic.group_robo_premium_accountant"/>
                    <field name="enable_price_lists_front" groups="robo_basic.group_robo_premium_accountant"/>
                    <field name="enable_serial_numbers" string="Aktyvuoti serijos numerius"
                           groups="robo_basic.group_robo_premium_accountant"/>
                    <field name="enable_landed_costs" string="Aktyvuoti savikainos koregavimą"
                           groups="robo_basic.group_robo_premium_accountant"
                           attrs="{'invisible': [('politika_sandelio_apskaita', '=', False)]}"/>
                    <field name="enable_advanced_stock_routing"
                           groups="robo_basic.group_robo_premium_accountant"
                           attrs="{'invisible': [('politika_sandelio_apskaita', '=', 'simple')]}"/>
                </xpath>
                <xpath expr="//group[@name='politika']" position="inside">
                    <field name="restore_vat_in_inventory_write_off"/>
                </xpath>
            </field>
        </record>

        <menuitem id="menu_warehouse_settings_search"
                  name="Sandėliai"
                  parent="robo.menu_company_settings_search"
                  action="open_warehouses"
                  groups="robo_basic.group_robo_premium_manager,robo_basic.group_robo_free_manager"
                  robo_front="True"
                  sequence="50"
                  searchable="True"
                  tags="sandėliai"
        />

        <template id="report_invoice_document" inherit_id="saskaitos.report_invoice_document">
            <xpath expr="//div[contains(@class, 'report_invoice_page')]" position="inside">
                <t t-if="o.show_lots">
                    <t t-set="all_lot_ids" t-value="o.invoice_line_ids.sudo().mapped('lot_ids.id')"/>
                    <t t-set="all_packages"
                       t-values="o.invoice_line_ids.sudo().mapped('lot_ids.quant_ids.package_id.id')"/>
                    <table class="table table-condensed" style="margin-top:30px"
                           t-if="o.show_lots and len(all_lot_ids) &gt; 0 and len(o.invoice_line_ids.sudo().mapped('lot_ids.quant_ids.package_id.id')) &gt; 0">
                        <thead>
                            <tr style="page-break-inside: avoid">
                                <th width="50%">Pakuotė</th>
                                <th width="50%">Serijiniai numeriai</th>
                            </tr>
                        </thead>
                        <tbody class="invoice_tbody">
                            <tr style="white-space: normal; font-size: 0.8em"
                                t-foreach="o.invoice_line_ids.sudo().mapped('lot_ids.quant_ids.package_id')"
                                t-as="pack">
                                <td>
                                    <span t-esc="pack.name"/>
                                </td>
                                <td>
                                    <span t-foreach="pack.quant_ids.mapped('lot_id')" t-as="lot">
                                        <t t-if="lot.id in all_lot_ids">
                                            <span t-esc="lot.name"/>
                                            <t t-if="lot_index+1 &lt; lot_size">,</t>
                                        </t>
                                    </span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-condensed" style="margin-top:30px"
                           t-if="o.show_lots and len(all_lot_ids) &gt; 0 and len(o.invoice_line_ids.sudo().mapped('lot_ids.quant_ids').filtered(lambda r: not r.package_id)) &gt; 0">
                        <thead>
                            <tr style="page-break-inside: avoid">
                                <th width="50%">Produktas</th>
                                <th width="50%">Serijiniai numeriai</th>
                            </tr>
                        </thead>
                        <tbody class="invoice_tbody">
                            <t t-foreach="o.invoice_line_ids.sudo().filtered(lambda r: r.product_id.id in r.lot_ids.mapped('product_id.id'))"
                               t-as="l">
                                <tr style="white-space: normal; font-size: 0.8em"
                                    t-if="len(l.mapped('lot_ids.quant_ids').filtered(lambda r: not r.package_id))!=0">
                                    <td>
                                        <span t-esc="l.name"/>
                                    </td>
                                    <td>
                                        <t t-foreach="l.lot_ids.filtered(lambda r: not r.quant_ids.mapped('package_id'))"
                                           t-as="lot">
                                            <t t-if="lot.product_id.id == l.product_id.id">
                                                <span t-esc="lot.name"/>
                                                <t t-if="lot_index+1 &lt; lot_size">,</t>
                                            </t>
                                        </t>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </table>

                    <table class="table table-condensed" style="margin-top:30px"
                           t-if="o.show_lots and len(all_lot_ids) &gt; 0 and not o.invoice_line_ids.sudo().mapped('lot_ids.quant_ids')">
                        <thead>
                            <tr style="page-break-inside: avoid">
                                <th width="50%">Produktas</th>
                                <th width="50%">Serijiniai numeriai</th>
                            </tr>
                        </thead>
                        <tbody class="invoice_tbody">
                            <t t-set="product_ids" t-value="[]"/>
                            <t t-foreach="o.invoice_line_ids.sudo().filtered(lambda r: r.product_id.id in r.lot_ids.mapped('product_id.id'))"
                               t-as="l">
                                <t t-if="l.product_id.id not in product_ids">
                                    <t t-set="product_ids" t-value="product_ids + [l.product_id.id]"/>
                                    <tr style="white-space: normal; font-size: 0.8em">
                                        <td>
                                            <span t-esc="l.name"/>
                                        </td>
                                        <td>
                                            <t t-foreach="l.lot_ids" t-as="lot">
                                                <t t-if="lot.product_id.id == l.product_id.id">
                                                    <span t-esc="lot.name"/>
                                                    <t t-if="lot_index+1 &lt; lot_size">,</t>
                                                </t>
                                            </t>
                                        </td>
                                    </tr>
                                </t>
                            </t>
                        </tbody>
                    </table>
                </t>
            </xpath>
        </template>

        <record id="view_stock_picking_type_tree_view" model="ir.ui.view">
            <field name="name">stock.picking.type.tree</field>
            <field name="model">stock.picking.type</field>
            <field name="inherit_id" ref="stock.view_picking_type_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='sequence_id']" position="replace"/>
            </field>
        </record>
        <record id="view_sales_order_filter" model="ir.ui.view">
            <field name="name">sale.order.filter</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale.view_sales_order_filter"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='product_id']" position="after">
                    <filter name="draft" string="Juodraštis" domain="[('state', '=', 'draft')]"/>
                    <filter name="sale" string="Vykdomas" domain="[('state', '=', 'sale')]"/>
                    <filter name="done" string="Užrakintas" domain="[('state', '=', 'done')]"/>
                    <filter name="cancel" string="Atšauktas" domain="[('state', '=', 'cancel')]"/>
                    <separator/>
                    <filter name="invoiced" string="Užpajamuota" domain="[('invoice_status', '=', 'invoiced')]"/>
                    <filter name="to_invoice" string="Reikia pajamuoti"
                            domain="[('invoice_status', '=', 'to invoice')]"/>
                    <separator/>
                    <filter name="this_month" string="Šis mėnuo" domain="['&amp;',('date_order','&lt;=',(context_today()+relativedelta(day=31)).strftime('%Y-%m-%d')),('date_order','&gt;=',(context_today()-relativedelta(day=1)).strftime('%Y-%m-%d'))]"/>
                    <filter name="previous_month" string="Praeitas mėnuo" domain="['&amp;',('date_order','&lt;=',(context_today()+relativedelta(months=-1, day=31)).strftime('%Y-%m-%d')),('date_order','&gt;=',(context_today()-relativedelta(months=1, day=1)).strftime('%Y-%m-%d'))]"/>
                    <separator/>
                    <filter name="to_deliver" string="Reikia išsiųsti" domain="[('delivery_status', '=', 'to deliver')]"/>
                    <filter name="delivered" string="Viskas išsiųsta" domain="[('delivery_status', '=', 'delivered')]"/>
                    <separator/>
                </xpath>
                <xpath expr="//group" position="inside">
                    <filter name="group_state" string="Užsakymo būsena" context="{'group_by': 'state'}"/>
                    <filter name="group_delivery" string="Pristatymo būsena" context="{'group_by': 'delivery_status'}"/>
                    <filter name="group_invoice" string="Pajamavimo būsena" context="{'group_by': 'invoice_status'}"/>
                </xpath>
            </field>
        </record>
        <record id="view_purchase_order_filter" model="ir.ui.view">
            <field name="name">purchase.order.filter</field>
            <field name="model">purchase.order</field>
            <field name="inherit_id" ref="purchase.view_purchase_order_filter"/>
            <field name="arch" type="xml">
                <xpath expr="//group" position="inside">
                    <filter name="group_state" string="Užsakymo būsena" context="{'group_by': 'state'}"/>
                    <filter name="group_invoice" string="Pajamavimo būsena" context="{'group_by': 'invoice_status'}"/>
                </xpath>
            </field>
        </record>

        <record id="product_template_form_view" model="ir.ui.view">
            <field name="name">product.template.common.form</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="product.product_template_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='taxes_id']" position="after">
                    <field name="stock_surplus_account_id"/>
                </xpath>
            </field>
        </record>

        <record id="product_normal_form_view" model="ir.ui.view">
            <field name="name">product.product.form</field>
            <field name="model">product.product</field>
            <field name="inherit_id" ref="product.product_normal_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='taxes_id']" position="after">
                    <field name="stock_surplus_account_id"/>
                </xpath>
            </field>
        </record>

        <record id="view_category_property_form" model="ir.ui.view">
            <field name="name">product.category.property.form</field>
            <field name="model">product.category</field>
            <field name="inherit_id" ref="account.view_category_property_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='property_account_expense_categ_id']" position="after">
                    <field name="stock_surplus_account_categ_id"/>
                </xpath>
            </field>
        </record>

        <record id="action_picking_related_moves" model="ir.actions.act_window">
            <field name="name">Atsargų perkėlimai</field>
            <field name="res_model">stock.move</field>
            <field name="domain">[('picking_id', '=', active_id)]</field>
            <field name="view_mode">tree_robo,form</field>
            <field name="view_id" ref="robo_stock.view_move_tree_receipt_picking"/>
            <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree_robo', 'view_id': ref('robo_stock.view_move_tree_receipt_picking')}),
                (0, 0, {'view_mode': 'kanban', 'view_id': ref('stock_move_kanban')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('view_move_form')})]"/>
            <field name="robo_help" type="html">
                <p class="oe_view_robo_nocontent_search">
                    Ši jūsų užklausa negrąžino jokių rezultatų
                </p>
            </field>
            <field name="context" eval="{
                'robo_header': {'fit':True},
                'search_add_custom': False,
                'showDuplicate': False,
                }"/>
            <field name="robo_menu" ref="menu_robo_stock"/>
        </record>

        <record model="ir.ui.view" id="robo_stock_product_category_tree">
            <field name="name">product.category.tree</field>
            <field name="model">product.category</field>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <tree create="0">
                    <field name="name" string="Pavadinimas"/>
                    <field name="parent_id" string="Tėvinė kategorija"/>
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="robo_stock_product_category_form">
            <field name="name">product.category.form</field>
            <field name="model">product.category</field>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button class="oe_stat_button" name="%(robo_stock.open_robo_stock_product)d"
                                    icon="fa-th-list" type="action" context="{'search_default_categ_id': active_id}">
                                <div class="o_form_field o_stat_info">
                                    <span class="o_stat_value"><field name="product_count"/></span>
                                    <span class="o_stat_text"> Produktai</span>
                                </div>
                            </button>
                        </div>
                        <group name="general_information_group">
                            <group>
                                <field name="name" string="Pavadinimas"/>
                                <field name="parent_id" string="Tėvinė kategorija"
                                       context="{'form_view_ref': 'robo_stock.robo_stock_product_category_form'}"/>
                                <field name="accounting_category_type" required="1"/>
                                <field name="acc_product_type"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record model="ir.actions.act_window" id="new_open_robo_stock_product_categories">
            <field name="name">Nauja produktų kategorija</field>
            <field name="res_model">product.category</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">current</field>
            <field name="view_id" ref="robo_stock_product_category_form"/>
        </record>
        <record model="ir.actions.act_window" id="open_robo_stock_product_categories">
            <field name="name">Produktų kategorijos</field>
            <field name="res_model">product.category</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="target">current</field>
            <field name="view_id" ref="robo_stock_product_category_tree"/>
            <field name="domain">[('robo_category', '=', False)]</field>
            <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree_robo', 'view_id': ref('robo_stock_product_category_tree')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('robo_stock_product_category_form')})]"/>
            <field name="robo_help" type="html">
                <p class="oe_view_robo_nocontent_search">
                    Ši jūsų užklausa negrąžino jokių rezultatų
                </p>
            </field>
            <field name="robo_menu" ref="menu_robo_stock"/>
            <field name="header" ref="robo_stock_header_product_category"/>
        </record>
        <menuitem id="menu_robo_stock_product_categories"
                  parent="robo_stock.menu_robo_stock"
                  name="Produktų kategorijos"
                  sequence="5"
                  action="open_robo_stock_product_categories"
                  groups="stock_extend.group_robo_stock"
                  robo_front="True"
                  force_web_icon="icon-store,none,none"
                  searchable="True"
                  tags="produktų,atsargų,kategorijos"
        />
        <record id="robo_stock_extend_landed_costs" model="ir.ui.view">
            <field name="priority" eval="99"/>
            <field name="name">stock.landed.costs</field>
            <field name="model">stock.landed.cost</field>
            <field name="inherit_id" ref="stock_landed_costs.view_stock_landed_cost_search"/>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='name']" position="after">
                    <field name="invoice_partner_id"/>
                    <field name="move_partner_id"/>
                </xpath>
            </field>
        </record>
        <record model="ir.ui.view" id="sale_add_vat_date">
            <field name="name">sale.add.vat.date.view.form</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale.view_order_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='date_order']" position="attributes">
                    <attribute name="context">{'date': date_order, 'vat_date_test': True}</attribute>
                </xpath>
                <xpath expr="//field[@name='date_order']" position="after">
                        <field name="show_vat" invisible="1"/>
                </xpath>
                <xpath expr="//tree//field[@name='tax_id']" position="attributes">
                    <attribute name="context">{'date': parent.date_order, 'vat_date_test': True}</attribute>
                    <attribute name="attrs">
                        {'readonly': [('qty_invoiced', '&gt;', 0)], 'required': [('require_vat', '=', True)]}
                    </attribute>
                </xpath>
                <xpath expr="//tree//field[@name='tax_id']" position="after">
                    <field name="require_vat" invisible="1"/>
                </xpath>
                <xpath expr="//field[@name='order_line']//group[1]//field[@name='tax_id']" position="attributes">
                    <attribute name="context">{'date': parent.date_order, 'vat_date_test': True}</attribute>
                    <attribute name="domain">[('type_tax_use','=','sale'),('company_id','=',parent.company_id),('price_include','=',parent.price_include)]</attribute>
                    <attribute name="attrs">
                        {'readonly': [('qty_invoiced', '&gt;', 0)], 'required': [('require_vat', '=', True)]}
                    </attribute>
                </xpath>
                <xpath expr="//field[@name='order_line']//group[1]//field[@name='tax_id']" position="after">
                    <field name="require_vat" invisible="1"/>
                </xpath>

            </field>
        </record>
        <record id="menu_robo_stock_sale_order" model="ir.ui.menu">
            <field name="groups_id" eval="[(5, 0, 0), (4, ref('robo_stock.robo_stock_extended'))]"/>
        </record>

        <record id="menu_robo_stock_purchase_order" model="ir.ui.menu">
            <field name="groups_id" eval="[(5, 0, 0), (4, ref('robo_stock.robo_stock_extended'))]"/>
        </record>
        <record id="menu_robo_stock_landed_costs" model="ir.ui.menu">
            <field name="groups_id" eval="[(5, 0, 0), (4, ref('robo_stock.group_robo_landed_costs'))]"/>
        </record>

        <record id="cron_prepayments" model="ir.cron">
            <field name="name">Check Prepayments</field>
            <field name="interval_number">1</field>
            <field name="interval_type">hours</field>
            <field name="numbercall">-1</field>
            <field name="doall" eval="False"/>
            <field name="model">sale.order</field>
            <field name="function">check_if_prepaid_ready</field>
            <field name="args">()</field>
        </record>

        <record id="sotck_picking_extensions" model="ir.ui.view">
            <field name="name">stock.move.tree.extend</field>
            <field name="model">stock.move</field>
            <field name="inherit_id" ref="stock.view_move_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='product_uom_qty']" position="replace">
                    <field name="product_uom_qty" string="Originalus kiekis"/>
                </xpath>
                <xpath expr="//field[@name='product_uom_qty']" position="after">
                    <field name="non_error_qty" string="Kiekis"/>
                    <field name="product_qty_real" string="Quantity change" sum="product_qty_real"/>
                </xpath>
            </field>
        </record>
        <record id="view_move_form_access_rights" model="ir.ui.view">
            <field name="name">view.move.form.access.rights</field>
            <field name="model">stock.move</field>
            <field name="inherit_id" ref="stock.view_move_form"/>
            <field name="arch" type="xml">
                <xpath expr="//group[@name='quants_grp']" position="attributes">
                    <attribute name="groups">base.group_system</attribute>
                </xpath>
                <xpath expr="//group[@name='moved_quants_grp']" position="attributes">
                    <attribute name="groups">stock.group_stock_manager</attribute>
                </xpath>
                <xpath expr="//field[@name='string_availability_info']" position="after">
                    <field name="reserved_quant_ids" nolabel="1"/>
                </xpath>
            </field>
        </record>
        <record id="product_template_tree_view_extend" model="ir.ui.view">
            <field name="name">product.template.tree.view.extend</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="product.product_template_tree_view"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='standard_price']" position="after">
                    <field name="avg_cost"/>
                </xpath>
            </field>
        </record>
        <record id="product_pricelist_view_tree_front" model="ir.ui.view">
            <field name="name">product.pricelist.tree</field>
            <field name="model">product.pricelist</field>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <tree string="Kainoraščiai" import="0" create="0">
                    <field name="sequence" widget="handle"/>
                    <field name="name"/>
                    <field name="currency_id" groups="base.group_multi_currency"/>
                </tree>
            </field>
        </record>
        <record id="product_pricelist_view_form_front" model="ir.ui.view">
            <field name="name">product.pricelist.form</field>
            <field name="model">product.pricelist</field>
            <field name="robo_front" eval="True"/>
            <field name="arch" type="xml">
                <form string="Produktų kainoraštis">
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button name="toggle_active" type="object"
                                    class="oe_stat_button" icon="fa-archive">
                                <field name="active" widget="boolean_button"
                                    options='{"terminology": "archive"}'/>
                            </button>
                        </div>
                        <div class="oe_title">
                            <h1><field name="name" placeholder="Kainoraščio pavadinimas..."/></h1>
                        </div>
                        <group>
                            <field name="currency_id" groups="base.group_multi_currency"/>
                            <field name="company_id" groups="base.group_multi_company" options="{'no_create': True}"/>
                            <field name="country_group_ids" string="Šalies grupės">
                                <tree class="robo_tree_in_form">
                                    <field name="country_ids"/>
                                </tree>
                            </field>
                        </group>
                        <div groups="robo_stock.group_robo_front_pricelist">
                            <separator string="Kainoraščio grupės"/>
                            <field name="item_ids" nolabel="1" context="{'default_base':'list_price'}">
                                <tree string="Kainoraščio elementai" class="robo_tree_in_form">
                                    <field name="name" string="Taikyti"/>
                                    <field name="min_quantity"/>
                                    <field name="date_start"/>
                                    <field name="date_end"/>
                                    <field name="price" string="Kaina"/>
                                    <field name="base" invisible="1"/>
                                    <field name="sequence" invisible="1"/>
                                    <field name="price_discount" invisible="1"/>
                                    <field name="applied_on" invisible="1"/>
                                    <field name="compute_price" invisible="1"/>
                                </tree>
                            </field>
                        </div>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="product.product_pricelist_item_form_view" model="ir.ui.view">
            <field name="robo_front" eval="True"/>
        </record>
        <record model="ir.actions.act_window" id="new_pricelist_front_action">
            <field name="name">Kainoraštis</field>
            <field name="res_model">product.pricelist</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="product_pricelist_view_form_front"/>
        </record>
        <record id="robo_button_pricelist_front" model="robo.header.items">
            <field name="header" ref="robo_stock.robo_header_pricelist_front"/>
            <field name="name">Kainoraštį</field>
            <field name="icon">icon-plus-circle</field>
            <field name="action" ref="robo_stock.new_pricelist_front_action"/>
            <field name="item_class">new_revenue_operation</field>
            <field name="help"></field>
        </record>
        <record id="product_pricelist_action_front" model="ir.actions.act_window">
            <field name="name">Kainoraščiai</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">product.pricelist</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="product.product_pricelist_view_search" />
            <field name="header" ref="robo_stock.robo_header_pricelist_front"/>
            <field name="with_settings">True</field>
            <field name="robo_front">True</field>
            <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree_robo', 'view_id': ref('product_pricelist_view_tree_front')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('product_pricelist_view_form_front')})]"/>
            <field name="robo_menu" ref="robo.menu_kita"/>
            <field name="robo_help" type="html">
                <p class="oe_view_robo_nocontent_search">
                    Ši jūsų užklausa negrąžino jokių rezultatų
                </p>
            </field>
        </record>

        <menuitem id="menu_other_pricelists_front"
                  parent="robo.menu_kita"
                  name="Kainoraščiai"
                  sequence="41"
                  action="product_pricelist_action_front"
                  groups="robo_stock.group_robo_front_pricelist"
                  force_web_icon="icon-document2,none,none"
                  robo_front="True"
                  searchable="True"
                  tags="kainoraščiai"
        />

        <record id="view_production_lot_form_front" model="ir.ui.view">
        <field name="name">stock.production.lot.form.front</field>
        <field name="model">stock.production.lot</field>
        <field name="robo_front">True</field>
        <field name="arch" type="xml">
            <form string="Serijos numeriai">
                <sheet>
                    <div class="oe_button_box" name="button_box" groups="robo_basic.group_robo_premium_accountant">
                        <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-archive">
                            <field name="active" widget="boolean_button"
                                   options="{&quot;terminology&quot;: &quot;archive&quot;}"/>
                        </button>
                    </div>
                    <div class="oe_button_box" name="button_box">
                        <button name="%(stock.lot_open_quants)d" icon="fa-arrows" class="oe_stat_button"
                                string="Nustatyti padėtį" type="action" attrs="{'invisible': [('quant_ids','=',[])]}"/>
                        <button name="action_traceability" icon="fa-arrow-up" class="oe_stat_button"
                                string="Atsekamumas" type="object" attrs="{'invisible': [('quant_ids','=',[])]}"/>
                    </div>
                    <div class="oe_title">
                        <label for="name" class="oe_edit_only"/>
                        <h1>
                            <field name="name" placeholder="pvz. LOT/0001/20121"/>
                        </h1>
                    </div>
                    <group name="main_group">
                        <group>
                            <field name="product_id"/>
                            <label for="product_qty"/>
                            <div class="o_row">
                                <field name="product_qty"/>
                                <field name="product_uom_id" groups="product.group_uom"/>
                            </div>
                            <field name="ref"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Produktai">
                            <field name="quant_ids">
                                <tree class="robo_tree_in_form" editable="bottom" delete="1" create="1">
                                    <field name="location_id" groups="stock.group_stock_multi_locations"/>
                                    <field name="qty"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
        <record model="ir.actions.act_window" id="new_production_lot_front_action">
            <field name="name">Serijos numeris</field>
            <field name="res_model">stock.production.lot</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_production_lot_form_front"/>
        </record>
        <record id="robo_button_production_lot_front" model="robo.header.items">
            <field name="header" ref="robo_stock.robo_header_production_lot_front"/>
            <field name="name">Serijos numerį</field>
            <field name="icon">icon-plus-circle</field>
            <field name="action" ref="robo_stock.new_production_lot_front_action"/>
            <field name="help"></field>
        </record>
        <record id="view_production_lot_tree_front" model="ir.ui.view">
            <field name="name">stock.production.lot.tree.front</field>
            <field name="model">stock.production.lot</field>
            <field name="robo_front">True</field>
            <field name="arch" type="xml">
                <tree string="Serijos numeriai" import="0" create="0">
                    <field name="name"/>
                    <field name="ref"/>
                    <field name="product_id"/>
                    <field name="create_date"/>
                </tree>
            </field>
        </record>
            <record id="action_production_lot_form_front" model="ir.actions.act_window">
                <field name="name">Serijos numeriai</field>
                <field name="type">ir.actions.act_window</field>
                <field name="res_model">stock.production.lot</field>
                <field name="view_type">form</field>
                <field name="view_mode">tree,form</field>
                <field name="search_view_id" ref="stock.search_product_lot_filter" />
                <field name="header" ref="robo_stock.robo_header_production_lot_front"/>
                <field name="with_settings">True</field>
                <field name="view_ids" eval="[(5, 0, 0),
                    (0, 0, {'view_mode': 'tree_robo', 'view_id': ref('view_production_lot_tree_front')}),
                    (0, 0, {'view_mode': 'form', 'view_id': ref('view_production_lot_form_front')})]"/>
                <field name="robo_menu" ref="robo_stock.menu_robo_stock"/>
                <field name="context">{}</field>
                <field name="help" type="html">
                  <p class="oe_view_nocontent_create">
                    Spauskite kad pridėtumėte serijos numerį.
                  </p>
                </field>
            </record>
            <menuitem id="invoice_numbering_menu"
                      parent="robo_stock.menu_robo_stock"
                      name="Serijos numeriai"
                      sequence="50"
                      groups="stock_extend.group_robo_stock"
                      action="action_production_lot_form_front"
                      force_web_icon="icon-sort-alpha-asc,none,none"
                      robo_front="True"
                      searchable="True"
                      tags="atsargų,serijos,numeriai"
            />

        <record id="invoice_numbering_menu" model="ir.ui.menu">
            <field name="groups_id" eval="[(5, 0, 0), (4, ref('robo_stock.group_robo_serial_numbers'))]"/>
        </record>
        <!--Overridden inventory menu from addons -> removed group base.no_one-->
        <menuitem id="stock_account.menu_action_wizard_valuation_history"
          action="stock_account.action_wizard_stock_valuation_history"
          parent="stock.menu_warehouse_report" sequence="1"/>

        <record id="res_partner_robo_stock_extend_back" model="ir.ui.view">
            <field name="name">res.partner.robo.stock.extend</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='category_id']" position="after">
                    <field name="property_product_pricelist"
                           context="{'form_view_ref': 'robo_stock.product_pricelist_view_form_front'}"/>
                </xpath>
            </field>
        </record>
        <record id="res_partner_robo_stock_extend_cust_front" model="ir.ui.view">
            <field name="name">res.partner.robo.stock.extend.cust.front</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="robo.new_clients_customer_form"/>
            <field name="arch" type="xml">
                <xpath expr="//page[@name='other_settings']//field[@name='supplier']" position="after">
                    <field name="property_product_pricelist"
                           context="{'form_view_ref': 'robo_stock.product_pricelist_view_form_front'}"/>
                </xpath>
            </field>
        </record>
            <record id="res_partner_robo_stock_extend_supp_front" model="ir.ui.view">
            <field name="name">res.partner.robo.stock.extend.supp.front</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="robo.new_clients_supplier_form"/>
            <field name="arch" type="xml">
                <xpath expr="//page[@name='other_settings']//field[@name='supplier']" position="after">
                    <field name="property_product_pricelist"
                           context="{'form_view_ref': 'robo_stock.product_pricelist_view_form_front'}"/>
                </xpath>
            </field>
        </record>
        <record model="ir.ui.view" id="stock_accounting_compare_report_form">
            <field name="name">stock.accounting.compare.report.form</field>
            <field name="model">stock.accounting.compare.report</field>
            <field name="robo_front" eval="True"/>
            <field name="arch" type="xml">
                <form>
<!--                    <sheet>-->
                        <group>
                            <field name="date_from"/>
                            <field name="date_to"/>
                        </group>
                        <footer>
                            <button name="generate_report" type="object" string="Atsisiųsti XLS"
                                    class="oe_highlight" style="margin-right: 10px;"/>
                            <button name="cancel" special="cancel" string="Atšaukti"/>
                        </footer>
<!--                    </sheet>-->
                </form>
            </field>
        </record>
        <record model="ir.actions.act_window" id="robo_open_accounting_compare_report">
            <field name="name">Sandėlio/apskaitos palyginimo ataskaita</field>
            <field name="res_model">stock.accounting.compare.report</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="stock_accounting_compare_report_form"/>
            <field name="target">new</field>
            <field name="header" ref="robo_stock.stock_default_xs"/>
            <field name="robo_menu" ref="robo.menu_kita"/>
        </record>
        <menuitem id="menu_robo_stock_accounting_comparison"
                  parent="account.menu_finance_legal_statement"
                  name="Apskaitos ir sandėlio sulyginimas"
                  sequence="20"
                  action="robo_open_accounting_compare_report"
                  groups="robo_basic.group_robo_premium_accountant"
        />
        <record model="ir.ui.view" id="robo_stock_view_stock_quant_tree">
            <field name="name">stock.view.stock.quant.tree</field>
            <field name="model">stock.quant</field>
            <field name="inherit_id" ref="stock.view_stock_quant_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='inventory_value']" position="attributes">
                    <attribute name="sum">inventory_value</attribute>
                </xpath>
            </field>
        </record>
        <record id="invoice_form_rel_pickings" model="ir.ui.view">
            <field name="name">account.invoice.form.rel.pickings</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account.invoice_form"/>
            <field name="arch" type="xml">
                <xpath expr="//sheet[1]//group[1]" position="before">
                    <div class="oe_right oe_button_box" name="buttons" groups="account.group_account_user">
                        <button type="object" name="open_related_stock_pickings"
                                attrs="{'invisible':[('num_rel_pickings', '=', 0)]}" class="oe_stat_button"
                                icon="fa-list-alt" groups="robo_stock.robo_stock_extended">
                            <field name="num_rel_pickings" widget="statinfo" string="Važtaraščiai"
                                   groups="robo_stock.robo_stock_extended"/>
                        </button>
                        <button type="object" name="open_related_pickings_move_lines"
                                attrs="{'invisible':[('num_rel_pickings', '=', 0)]}" class="oe_stat_button"
                                icon="fa-bars" string="Važtaraščių apskaitos įrašai"
                                groups="robo_stock.robo_stock_extended"/>
                    </div>
                </xpath>
                <xpath expr="//field[@name='move_id']" position="after">
                    <field name="private_product_consumption_move_id"
                           attrs="{'invisible': [('private_product_consumption_move_id', '=', False)]}"/>
                </xpath>
            </field>
        </record>
        <record id="invoice_form_rel_pickings_sup" model="ir.ui.view">
            <field name="name">account.invoice.form.rel.pickings.sup</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account.invoice_supplier_form"/>
            <field name="arch" type="xml">
                <xpath expr="//sheet[1]//div[1]" position="before">
                    <div class="oe_right oe_button_box" name="buttons" groups="account.group_account_user">
                        <button type="object" name="open_related_stock_pickings"
                                attrs="{'invisible':[('num_rel_pickings', '=', 0)]}" class="oe_stat_button"
                                icon="fa-list-alt" groups="robo_stock.robo_stock_extended">
                            <field name="num_rel_pickings" widget="statinfo" string="Važtaraščiai"
                                   groups="robo_stock.robo_stock_extended"/>
                        </button>
                        <button type="object" name="open_related_pickings_move_lines"
                                attrs="{'invisible':[('num_rel_pickings', '=', 0)]}" class="oe_stat_button"
                                icon="fa-bars" string="Važtaraščių apskaitos įrašai"
                                groups="robo_stock.robo_stock_extended"/>
                    </div>
                </xpath>
            </field>
        </record>
        <record id="action_open_product_product" model="ir.actions.act_window">
            <field name="name">Produktų variantai</field>
            <field name="res_model">product.product</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree_robo,form,kanban</field>
            <field name="target">current</field>
            <field name="view_id" ref="tree_product_product_front"/>
            <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree_robo', 'view_id': ref('tree_product_product_front')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('form_product_product_front')})]"/>
            <field name="robo_help" type="html">
                <p class="oe_view_robo_nocontent_search">
                    Ši jūsų užklausa negrąžino jokių rezultatų
                </p>
            </field>
            <field name="robo_menu" ref="menu_robo_stock"/>
            <field name="with_settings">True</field>
            <field name="header" ref="robo_header_product_product"/>
        </record>
        <menuitem id="menu_product_product"
                  parent="robo_stock.menu_robo_stock"
                  name="Produktų variantai"
                  sequence="5"
                  action="action_open_product_product"
                  groups="product.group_product_variant"
                  robo_front="True"
                  force_web_icon="icon-color-sampler,none,none"
                  searchable="True"
                  tags="produktų,variantai"
        />
        <!--Parent menu item is here, so inheritances-->
        <!--in manifest file behave correctly-->
        <menuitem id="menu_advanced_stock_locations"
                  parent="robo.menu_start"
                  name="Atsargų maršrutai"
                  sequence="52"
                  groups="stock.group_adv_location"
                  robo_front="True"
                  robo_extended="1"
                  force_web_icon="icon-scale-truck,none,none"
        />

        <record id="stock_inventory_mark_validated_server_action" model="ir.actions.server">
            <field name="name">Pažymėti kaip patvirtintą</field>
            <field name="robo_front">True</field>
            <field name="model_id" ref="stock.model_stock_inventory"/>
            <field name="group_ids" eval="[(4,ref('robo_basic.group_robo_premium_accountant'))]"/>
            <field name="code">
                object.browse(context.get('active_ids', False)).mark_validated()
            </field>
        </record>
        <record id="stock_inventory_mark_invalidated_server_action" model="ir.actions.server">
            <field name="name">Pažymėti kaip nepatvirtintą</field>
            <field name="robo_front">True</field>
            <field name="model_id" ref="stock.model_stock_inventory"/>
            <field name="group_ids" eval="[(4,ref('robo_basic.group_robo_premium_accountant'))]"/>
            <field name="code">
                object.browse(context.get('active_ids', False)).mark_invalidated()
            </field>
        </record>
        <function name="create_stock_inventory_validation_actions" model="stock.inventory"/>
    </data>
</odoo>
